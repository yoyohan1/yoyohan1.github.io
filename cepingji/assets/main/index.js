System.register("chunks:///_virtual/ActivityPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NetMgr.ts","./Global.ts"],(function(t){"use strict";var n,e,i,o,l,s,r,a;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,o=t.Button,l=t.Label,s=t.Component},function(t){r=t.ApiType},function(t){a=t.Global}],execute:function(){var c;e._RF.push({},"02872Umr7FMH4D2rz5+IFH0","ActivityPanel",void 0);var u=i.ccclass;i.property,t("ActivityPanel",u("ActivityPanel")(c=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;return i.start=function(){var t,n,e,i;null===(t=this.node.getChildByName("CloseBtn"))||void 0===t||null===(n=t.getComponent(o))||void 0===n||n.node.on(o.EventType.CLICK,this.onCloseBtnClick,this),null===(e=this.node.getChildByName("ReturnBtn"))||void 0===e||null===(i=e.getComponent(o))||void 0===i||i.node.on(o.EventType.CLICK,this.onCloseBtnClick,this),this.node.getChildByPath("OpenCardBtn").on(o.EventType.CLICK,this.onOpenCardBtnClick,this),a.NetMgr.httpPost(r.getBulletin,{deptCode:a.UserMgr.userData.deptCode},this,this.onGetBulletinSucceed,(function(){}))},i.onGetBulletinSucceed=function(t){var n=JSON.parse(t).data;this.node.getChildByName("Label").getComponent(l).string="活动文本:"+n.content,this.node.getChildByName("Label-001").getComponent(l).string=n.startTime.substring(0,10)+"-"+n.endTime.substring(0,10)},i.onCloseBtnClick=function(){a.jumpToScene("qintianjian")},i.onOpenCardBtnClick=function(){this.node.parent.getChildByName("CardPanel").active=!0},e}(s))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/EveryAnswer.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Global.ts"],(function(t){"use strict";var e,s,n,a,i,r,o;return{setters:[function(t){e=t.inheritsLoose},function(t){s=t.cclegacy,n=t._decorator,a=t.Button,i=t.Label,r=t.Component},function(t){o=t.Global}],execute:function(){var u;s._RF.push({},"06c2aVxb+xC9o95cxu00i/a","EveryAnswer",void 0);var l=n.ccclass;n.property,t("EveryAnswer",l("EveryAnswer")(u=function(t){function s(){for(var e,s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).btn=null,e.label=null,e.status=0,e.mData=null,e}e(s,t);var n=s.prototype;return n.onLoad=function(){this.btn=this.node.getComponent(a),this.label=this.node.getChildByName("Label").getComponent(i),this.btn.node.on(a.EventType.CLICK,this.onBtnClick,this)},n.setStatus=function(t,e){void 0===e&&(e=null),this.status=t,0==this.status?(this.btn.interactable=!1,this.label.string=""):1==this.status&&(this.mData=e,this.btn.interactable=!0,this.label.string=this.mData.value)},n.onBtnClick=function(){var t;1==o.IdiomsGameMgr.curSelectEveryChess.getStatusIs3()&&o.IdiomsGameMgr.curSelectEveryChess.setEcho(),null===(t=o.IdiomsGameMgr.curSelectEveryChess)||void 0===t||t.setValue({value:this.mData.value,everyAnswer:this}),this.setStatus(0)},n.setEcho=function(){this.setStatus(1,this.mData)},n.getValue=function(){return this.mData.value},n.getStatusIs1=function(){return 1==this.status},s}(r))||u);s._RF.pop()}}}));

System.register("chunks:///_virtual/MainPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Global.ts"],(function(n){"use strict";var e,t,o,r,a,i,l,s;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator,r=n.Button,a=n.director,i=n.Component},function(n){l=n.Module,s=n.Global}],execute:function(){var c;t._RF.push({},"0865bs09WlBa4ejUmSlO6is","MainPanel",void 0);var u=o.ccclass;o.property,n("MainPanel",u("MainPanel")(c=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var o=t.prototype;return o.start=function(){for(var n in l)for(var e=this.node.getChildByName(n).getComponentsInChildren(r),t=0;t<e.length;t++)e[t].node.on(r.EventType.CLICK,this.onLoginBtnClick,this);s.NetMgr.loadImgByUrl(this.node.getChildByPath("HeadImg/Mask/Sprite"),s.NetMgr.baseurl+"/"+s.UserMgr.userData.headPortrait)},o.onLoginBtnClick=function(n){console.log(n.node.parent.name),a.loadScene(n.node.parent.name)},t}(i))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/IdiomsOverPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Global.ts"],(function(t){"use strict";var e,n,i,a,o,s,c,l;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,a=t.Button,o=t.tween,s=t.Vec3,c=t.Component},function(t){l=t.Global}],execute:function(){var h;n._RF.push({},"22b0enqSspH+6NREDvH3m4B","IdiomsOverPanel",void 0);var r=i.ccclass;i.property,t("IdiomsOverPanel",r("IdiomsOverPanel")(h=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).succeedImg=null,e.failedImg=null,e.againBtn=null,e.nextBtn=null,e.backBtn=null,e}e(n,t);var i=n.prototype;return i.onLoad=function(){this.succeedImg=this.node.getChildByPath("Main/SucceedImg"),this.failedImg=this.node.getChildByPath("Main/FailedImg"),this.againBtn=this.node.getChildByPath("Main/AgainBtn"),this.nextBtn=this.node.getChildByPath("Main/NextBtn"),this.backBtn=this.node.getChildByPath("Main/BackBtn")},i.start=function(){this.againBtn.on(a.EventType.CLICK,this.onAgainBtnClick,this),this.nextBtn.on(a.EventType.CLICK,this.onNextBtnClick,this),this.backBtn.on(a.EventType.CLICK,this.onBackBtnClick,this)},i.gameOver=function(){var t;this.succeedImg.active=l.IdiomsGameMgr.isGameSucceed,this.failedImg.active=!l.IdiomsGameMgr.isGameSucceed,this.nextBtn.active=l.IdiomsGameMgr.isGameSucceed,this.againBtn.active=!l.IdiomsGameMgr.isGameSucceed,this.nextBtn.getComponent(a).interactable=l.IdiomsGameMgr.hasNextCheckPoint(),null===(t=this.node.getChildByName("Main"))||void 0===t||t.setPosition(0,3e3,0),o(this.node.getChildByName("Main")).to(.3,{position:new s(-4.006,47.79,0)},{easing:"backOut"}).start()},i.onAgainBtnClick=function(){l.IdiomsGameMgr.startChallenge({context:this,succeed:function(){l.IdiomsGameMgr.loadGameScene(!0)}})},i.onNextBtnClick=function(){var t=this;l.IdiomsGameMgr.startChallenge({context:this,succeed:function(){l.IdiomsGameMgr.startGame(l.IdiomsGameMgr.curLevelConfig.checkPoint+1,{context:t,succeed:function(){l.IdiomsGameMgr.loadGameScene(!0)}})}})},i.onBackBtnClick=function(){l.jumpToGuozijian(0)},n}(c))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/GuozijianPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,o,e,i,s,c;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.Button,s=t.director,c=t.Component}],execute:function(){var a;o._RF.push({},"22c79DTsTFDt5hvYO+lYIEe","GuozijianPanel",void 0);var r=e.ccclass;e.property,t("GuozijianPanel",r("GuozijianPanel")(a=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.start=function(){this.node.getChildByName("CloseBtn").getComponent(i).node.on(i.EventType.CLICK,(function(){s.loadScene("main")}),this),this.node.getChildByName("IdiomsBtn").getComponent(i).node.on(i.EventType.CLICK,this.onIdiomsBtnClick,this),this.node.getChildByName("ShotBtn").getComponent(i).node.on(i.EventType.CLICK,this.onShotBtnClick,this)},e.onIdiomsBtnClick=function(){s.loadScene("idiomsStart")},e.onShotBtnClick=function(){s.loadScene("shotStart")},o}(c))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/ParentScrollView.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ChildScrollView.ts"],(function(n){"use strict";var t,e,i,r,l,o,s,c,h,a,u,_,S;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){l=n.cclegacy,o=n._decorator,s=n.Event,c=n.Vec2,h=n.UITransform,a=n.EventTouch,u=n.Node,_=n.ScrollView},function(n){S=n.ChildScrollView}],execute:function(){var v,f,g,d,p;l._RF.push({},"22cefBBqEZDDrQbsY63OEj2","ParentScrollView",void 0);var m=o.ccclass,I=o.property;n("ParentScrollView",(v=m("ParentScrollView"),f=I(S),v((p=t((d=function(n){function t(){for(var t,e=arguments.length,l=new Array(e),o=0;o<e;o++)l[o]=arguments[o];return t=n.call.apply(n,[this].concat(l))||this,i(t,"mInnerScrollViews",p,r(t)),t.m_PlanDir=null,t.m_ScrollingInnerSv=null,t}e(t,n);var l=t.prototype;return l.onLoad=function(){var n,t=this;this.m_PlanDir=null,null===(n=this.mInnerScrollViews)||void 0===n||n.forEach((function(n){null==n||n.setOuterScrollView(t)}))},l._isHisChild=function(n,t){return n==t||null!=n.parent&&(n.parent==t||this._isHisChild(n.parent,t))},l._findScrollingInnerSv=function(n){for(var t=0;t<this.mInnerScrollViews.length;t++){if(this._isHisChild(n,this.mInnerScrollViews[t].node))return this.mInnerScrollViews[t]}return null},l.isDifferentBetweenSettingAndPlan=function(n){return 0!=this.m_PlanDir&&((1!=this.m_PlanDir||!n.horizontal)&&(-1!=this.m_PlanDir||!n.vertical))},l._hasNestedViewGroup=function(n,t){return n.eventPhase,s.CAPTURING_PHASE,!1},l._onTouchBegan=function(n,t){if(this.enabledInHierarchy&&!this._hasNestedViewGroup(n,t)){this.m_PlanDir=null,this.m_ScrollingInnerSv=null;n.touch;this.content&&this._handlePressLogic(),this._touchMoved=!1,this._stopPropagationIfTargetIsMe(n)}},l._onTouchMoved=function(n,t){if(this.enabledInHierarchy&&!this._hasNestedViewGroup(n,t)){var e=n.touch,i=new c;if(c.subtract(i,e.getLocation(),e.getStartLocation()),null==this.m_PlanDir&&i.length()>7)if(this.m_ScrollingInnerSv=this._findScrollingInnerSv(n.target),null!=this.m_ScrollingInnerSv){var r=this.m_ScrollingInnerSv.content.getComponent(h).contentSize,l=this.m_ScrollingInnerSv.node.getComponent(h).contentSize;this.m_ScrollingInnerSv.vertical&&r.height>l.height||this.m_ScrollingInnerSv.horizontal&&r.width>l.width?this.m_PlanDir=Math.abs(i.x)>Math.abs(i.y)?1:-1:this.m_PlanDir=0}else this.m_PlanDir=0;if(this.content&&(this.isDifferentBetweenSettingAndPlan(this)||this._handleMoveLogic(n.touch)),this.cancelInnerEvents&&null==this.m_ScrollingInnerSv){if((null==i?void 0:i.length())>7&&!this._touchMoved&&n.target!==this.node){var o=new a(n.getTouches(),!0,u.EventType.TOUCH_CANCEL);o.type=u.EventType.TOUCH_CANCEL,o.touch=n.touch,o.simulate=!0,n.target.dispatchEvent(o),this._touchMoved=!0}this._stopPropagationIfTargetIsMe(n)}}},t}(_)).prototype,"mInnerScrollViews",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=d))||g));l._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var o,u,t,e,s,c,n,a;return{setters:[function(i){o=i.createClass},function(i){u=i.cclegacy,t=i._decorator,e=i.resources,s=i.AudioClip,c=i.Node,n=i.game,a=i.AudioSource}],execute:function(){u._RF.push({},"28182HvXqJPI4U08hgZL2Yf","AudioMgr",void 0);t.ccclass,t.property,i("AudioMgr",function(){function i(){this.mapAudioClip=new Map,this.isEnabledAudio=!0,this.music="",this._audioSource=null}var u=i.prototype;return u.play=function(i,o){var u=this,t=this.mapAudioClip.get(i);null!=t?o.succeed.call(o.context,t):e.load("audios/"+i,s,(function(t,e){u.mapAudioClip.set(i,e),o.succeed.call(o.context,e)}))},u.playFx=function(i,o){var u=this;void 0===o&&(o=1),this.isEnabledAudio&&this.play(i,{context:this,succeed:function(i){u.audioSource.playOneShot(i,3*o)}})},u.playMusic=function(i){var o=this;this.music=i,this.isEnabledAudio&&this.play(i,{context:this,succeed:function(i){o.audioSource.stop(),o.audioSource.clip=i,o.audioSource.play()}})},u.stopMusic=function(){this.audioSource.pause()},u.setEnabled=function(i){this.isEnabledAudio=i,this.isEnabledAudio?this.playMusic(this.music):this.audioSource.pause()},u.getEnable=function(){return this.isEnabledAudio},o(i,[{key:"audioSource",get:function(){if(null==this._audioSource){var i=new c("AudioMgr");n.addPersistRootNode(i),this._audioSource=i.addComponent(a),this._audioSource.playOnAwake=!0,this._audioSource.volume=.2,this._audioSource.loop=!0}return this._audioSource}}]),i}());u._RF.pop()}}}));

System.register("chunks:///_virtual/TaixueyuanPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NetMgr.ts","./Global.ts"],(function(e){"use strict";var t,a,i,s,n,r,o,h,u,l,c;return{setters:[function(e){t=e.inheritsLoose,a=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,s=e._decorator,n=e.Button,r=e.director,o=e.instantiate,h=e.Label,u=e.Component},function(e){l=e.ApiType},function(e){c=e.Global}],execute:function(){var g;i._RF.push({},"2a6a9dxX79FP7ERYMsp8HcA","TaixueyuanPanel",void 0);var d=s.ccclass;s.property,e("TaixueyuanPanel",d("TaixueyuanPanel")(g=function(e){function i(){for(var t,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))||this).content=null,t.lisPrefab=[],t.warehouseList=[],t.packageList=[],t}t(i,e);var s=i.prototype;return s.start=function(){var e,t;null===(e=this.node.getChildByName("CloseBtn"))||void 0===e||null===(t=e.getComponent(n))||void 0===t||t.node.on(n.EventType.CLICK,(function(){return r.loadScene("main")}),this),this.node.getChildByPath("Player/GirlImg").active=0==c.UserMgr.userData.sex,this.node.getChildByPath("Player/BoyImg").active=1==c.UserMgr.userData.sex,this.content=this.node.getChildByPath("ScrollView/view/content"),this.lisPrefab.push(this.content.getChildByName("文曲星")),this.lisPrefab.push(this.content.getChildByName("文曲令")),this.lisPrefab.push(this.content.getChildByName("体力药剂"));for(var a=0;a<this.lisPrefab.length;a++){this.lisPrefab[a].active=!1}this.getWarehousePropsInfo()},s.getWarehousePropsInfo=function(){c.NetMgr.httpPost(l.getWarehousePropsInfo,{userId:c.UserMgr.userData.userId},this,this.onGetWarehousePropsInfoSucceed,(function(){}))},s.onGetWarehousePropsInfoSucceed=function(e){var t=JSON.parse(e).data;this.warehouseList=t.warehouseList,this.refershWarehouse(),this.packageList=t.packageList,this.refershPackage()},s.refershWarehouse=function(){for(var e,t=a(this.content.children);!(e=t()).done;){for(var i=e.value,s=!0,r=0;r<this.lisPrefab.length;r++)if(this.lisPrefab[r]==i){s=!1;break}s&&i.destroy()}for(var u=0;u<this.warehouseList.length;u++){var l,c=o(this.getPrefabByName(this.warehouseList[u].name));null==c||c.setParent(this.content),c.active=!0,c.name=this.warehouseList[u].Id,c.getChildByName("Title").getComponent(h).string=this.warehouseList[u].name,c.getChildByName("Num").getComponent(h).string=this.warehouseList[u].num,c.on(n.EventType.CLICK,this.onWarehouseItemBtnClick,this),null===(l=this.content.getChildByName("Node"))||void 0===l||l.setSiblingIndex(this.content.children.length-1)}},s.refershPackage=function(){for(var e=0;e<this.packageList.length;e++){var t=this.packageList[e];if(e>1)return;"文曲星"==t.NAME||"文曲星"==t.name?(this.node.getChildByPath("Player/Item"+e).getChildByName("文曲星").active=!0,this.node.getChildByPath("Player/Item"+e).getChildByName("文曲令").active=!1,this.node.getChildByPath("Player/Item"+e).getChildByPath("文曲星/Num").getComponent(h).string=t.num+""):"文曲令"!=t.NAME&&"文曲星"!=t.name||(this.node.getChildByPath("Player/Item"+e).getChildByName("文曲星").active=!1,this.node.getChildByPath("Player/Item"+e).getChildByName("文曲令").active=!0,this.node.getChildByPath("Player/Item"+e).getChildByPath("文曲令/Num").getComponent(h).string=t.num+"")}},s.getPrefabByName=function(e){for(var t=0;t<this.lisPrefab.length;t++){var a=this.lisPrefab[t];if(a.name==e)return a}},s.onWarehouseItemBtnClick=function(e){var t=this,a=e.target.parent.name;"体力药剂"!=this.getWarehouseObjById(a).name?c.NetMgr.httpPost(l.propsIntoBattle,[{userId:c.UserMgr.userData.userId,propsId:a,propsStatus:"1"}],this,(function(e){var i=JSON.parse(e);1==i.data[a]?(c.HintMgr.showHintLabel("装备成功！"),t.getWarehousePropsInfo()):c.HintMgr.showHintLabel(i.msg)}),(function(){})):c.HintMgr.showHintLabel("体力药剂不需要装备！")},s.onPackageItemBtnClick=function(e){var t=this.getPackagePropsIdByName(e.target.name);c.NetMgr.httpPost(l.propsIntoBattle,[{userId:c.UserMgr.userData.userId,propsId:t,propsStatus:"0"}],this,(function(e){r.loadScene("taixueyuan")}),(function(){}))},s.getPackagePropsIdByName=function(e){for(var t=0;t<this.packageList.length;t++){if(this.packageList[t].NAME==e)return this.packageList[t].id}},s.getWarehouseObjById=function(e){for(var t=0;t<this.warehouseList.length;t++){var a=this.warehouseList[t];if(a.Id==e)return a}return null},i}(u))||g);i._RF.pop()}}}));

System.register("chunks:///_virtual/TestNet.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NetMgr.ts","./Global.ts"],(function(e){"use strict";var t,o,n,s,r,i,c,u,a;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,s=e.KeyCode,r=e.systemEvent,i=e.SystemEvent,c=e.Component},function(e){u=e.ApiType},function(e){a=e.Global}],execute:function(){var p;o._RF.push({},"33b9fhXulhEQ4J9ITJoMg4k","TestNet",void 0);var f=n.ccclass;n.property,e("TestNet",f("TestNet")(p=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var n=o.prototype;return n.start=function(){a.NetMgr.httpPost(u.getGameList,{deptCode:a.UserMgr.userData.deptCode},this,(function(){}),(function(){}))},n.update=function(e){},n.onKeyDown=function(e){switch(e.keyCode){case s.KEY_Q:a.GoodsMgr.openReward(1);break;case s.KEY_W:a.GoodsMgr.openReward(2);break;case s.KEY_E:a.GoodsMgr.openReward(3)}},n.onEnable=function(){r.on(i.EventType.KEY_DOWN,this.onKeyDown,this)},n.onDisable=function(){r.off(i.EventType.KEY_DOWN,this.onKeyDown,this)},o}(c))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/IdiomsHistoryDetailPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NetMgr.ts","./Global.ts","./EveryChess.ts"],(function(t){"use strict";var e,i,s,n,a,r,o,h,l,d,m,u;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator,n=t.Quat,a=t.Button,r=t.instantiate,o=t.Label,h=t.tween,l=t.Component},function(t){d=t.ApiType},function(t){m=t.Global},function(t){u=t.EveryChess}],execute:function(){var c;i._RF.push({},"33d70DXH9tFLL6K88xnUJVc","IdiomsHistoryDetailPanel",void 0);var g=s.ccclass;s.property,t("IdiomsHistoryDetailPanel",g("IdiomsHistoryDetailPanel")(c=function(t){function i(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))||this).historyId="",e.mData=null,e.chessBoard=null,e.chessPrefab=null,e.lisEveryChess=[],e.idiomPrefab=null,e.idiomContent=null,e.lisIdiom=[],e.dgree0=new n,e.dgree180=new n,e}e(i,t);var s=i.prototype;return s.onLoad=function(){var t,e;n.fromEuler(this.dgree0,0,0,0),n.fromEuler(this.dgree180,0,0,180),null===(t=this.node.getChildByName("ReturnBtn"))||void 0===t||null===(e=t.getComponent(a))||void 0===e||e.node.on(a.EventType.CLICK,this.onCloseBtnClick,this),this.chessBoard=this.node.getChildByPath("ChessBoard"),this.chessPrefab=this.chessBoard.getChildByName("item"),this.chessPrefab.active=!1;for(var i=0;i<9;i++)for(var s=0;s<9;s++){var o=r(this.chessPrefab);o.active=!0,null==o||o.setParent(this.chessBoard);var h=o.getComponent(u);null==h||h.setMWordXY(s,i),this.lisEveryChess.push(h)}this.idiomContent=this.node.getChildByPath("ScrollView/view/content"),this.idiomPrefab=this.idiomContent.getChildByName("item"),this.idiomPrefab.active=!1},s.onCloseBtnClick=function(){this.node.active=!1,this.node.parent.getChildByName("HistoryPanel").active=!0},s.onOpenBtnClick=function(t){this.node.active=!0},s.refershPanel=function(t){if(console.log("点击了"+t),this.historyId!=t){this.historyId=t;var e={historyId:this.historyId};m.NetMgr.httpPost(d.getIdiomHistory,e,this,this.onGetIdiomHistorySucceed,(function(){}))}},s.onGetIdiomHistorySucceed=function(t){var e=JSON.parse(t).data;if(this.mData=e,null!=this.mData&&null!=this.mData){this.mData.questionList=[],this.mData.lisAnswer=this.mData.answer.split(","),this.mData.lisUserAnswer=""!=this.mData.userAnswer?this.mData.userAnswer.split(","):[];for(var i=this.mData.answerCoordinates,s=new Map,n=0,a=0;a<i.length;a+=26){var r=i.substring(a,a+25);s.set(this.mData.lisAnswer[n],r),n++}for(var o=0;o<this.mData.lisUserAnswer.length;o++){var h=this.mData.lisUserAnswer[o],l=s.get(h);if(null!=l&&null!=l){for(var d=l.substring(1,24),m=[],u=0;u<d.length;u+=6)m.push(d.substring(u,u+5));for(var c=0;c<m.length;c++)this.mData.questionList.push({value:h[c],wordX:parseInt(m[c][1]),wordY:parseInt(m[c][3]),status:2})}}this.refersh()}},s.refersh=function(){for(var t=0;t<this.lisEveryChess.length;t++){var e=this.lisEveryChess[t],i=this.getChessData(e.mWordX,e.mWordY);null!=i?null==e||e.setStatus(2,i):null==e||e.setStatus(0)}if(this.mData.lisUserAnswer.length<=0)return this.node.getChildByName("ScrollView").active=!1,void(this.node.getChildByName("Empty").active=!0);this.node.getChildByName("ScrollView").active=!0;for(var s=0;s<this.idiomContent.children.length;s++){var n=this.idiomContent.children[s];n!=this.idiomPrefab&&(this.lisIdiom.push(n),n.active=!1)}for(var a=0;a<this.mData.lisUserAnswer.length;a++){var r=this.mData.lisUserAnswer[a],h=this.getOneIdiom();h.name=a+"",h.active=!0,h.getChildByName("anno").active=!1,h.getChildByPath("Idiom/Num").getComponent(o).string=a+1+"",h.getChildByPath("Idiom/Idiom").getComponent(o).string=r,h.getChildByPath("Idiom/Seebtn/arrow").setRotation(this.dgree0),h.setSiblingIndex(a+1)}},s.getOneIdiom=function(){if(this.lisIdiom.length<=0){var t=r(this.idiomPrefab);return t.getChildByPath("Idiom/Seebtn").on(a.EventType.CLICK,this.onAnnoSeeBtnClick,this),t.setParent(this.idiomContent),t}return this.lisIdiom.pop()},s.onAnnoSeeBtnClick=function(t){console.log("点击了"+t.target.name+" "+t.target.parent.parent.parent.name);var e=t.target.parent.parent.parent.getChildByName("anno");0==e.active?(e.active=!0,h(t.target.parent.getChildByName("arrow")).to(.3,{rotation:this.dgree180}).start()):(e.active=!1,h(t.target.parent.getChildByName("arrow")).to(.3,{rotation:this.dgree0}).start())},s.getChessData=function(t,e){for(var i=0;i<this.mData.questionList.length;i++)if(this.mData.questionList[i].wordX==t&&this.mData.questionList[i].wordY==e)return this.mData.questionList[i];return null},i}(l))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/LuckDrawPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NetMgr.ts","./Global.ts"],(function(e){"use strict";var t,i,a,n,s,r,d,h,l,c;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,a=e._decorator,n=e.Button,s=e.instantiate,r=e.Label,d=e.randomRangeInt,h=e.Component},function(e){l=e.ApiType},function(e){c=e.Global}],execute:function(){var o;i._RF.push({},"350236FqEVEs688QcN5GJ5V","LuckDrawPanel",void 0);var u=a.ccclass;a.property,e("LuckDrawPanel",u("LuckDrawPanel")(o=function(e){function i(){for(var t,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))||this).prefab=null,t.content=null,t.lisDraw=[],t.lisItem=[],t.drawData=null,t.curSpeed=.1,t.timer1=0,t.timer2=0,t.speed0=.6,t.speed1=.05,t.endIndex=9,t.endTime=5,t.curSelectIndex=0,t.isStartDraw=!1,t.canSlowed=!1,t.prePoint=-1,t}t(i,e);var a=i.prototype;return a.start=function(){var e,t,i,a;null===(e=this.node.getChildByName("CloseBtn"))||void 0===e||null===(t=e.getComponent(n))||void 0===t||t.node.on(n.EventType.CLICK,this.onCloseBtnClick,this),null===(i=this.node.getChildByName("ReturnBtn"))||void 0===i||null===(a=i.getComponent(n))||void 0===a||a.node.on(n.EventType.CLICK,this.onCloseBtnClick,this),this.node.getChildByName("DrawBtn").on(n.EventType.CLICK,this.onDrawBtnClick,this),c.NetMgr.httpPost(l.drawList,{deptCode:c.UserMgr.userData.deptCode,setCardsId:c.CardMgr.getSetCardObjByName().id},this,this.onGetDrawListSucceed,(function(){}))},a.onGetDrawListSucceed=function(e){this.lisDraw=JSON.parse(e).data,this.content=this.node.getChildByName("LuckDraw");for(var t=0;t<this.content.children.length;t++){var i=this.content.children[t];if(0==t)this.prefab=i.getChildByName("prefab"),i.name=this.lisDraw[t].id,this.setItem(this.prefab,this.lisDraw[t]);else{var a=s(this.prefab);a.setParent(i),i.name=this.lisDraw[t].id,this.setItem(a,this.lisDraw[t])}this.lisItem.push({item:i,selectBg:i.getChildByName("SelectBg")})}},a.setItem=function(e,t){"文曲星"==t.name?(e.getChildByName("1").active=!1,e.getChildByName("2").active=!0,e.getChildByName("3").active=!1,e.getChildByName("4").active=!1,e.getChildByPath("2/Label").getComponent(r).string=t.name+"*"+t.number):"文曲令"==t.name?(e.getChildByName("1").active=!1,e.getChildByName("2").active=!1,e.getChildByName("3").active=!0,e.getChildByName("4").active=!1,e.getChildByPath("3/Label").getComponent(r).string=t.name+"*"+t.number):"体力药剂"==t.name?(e.getChildByName("1").active=!1,e.getChildByName("2").active=!1,e.getChildByName("3").active=!1,e.getChildByName("4").active=!0,e.getChildByPath("4/Label").getComponent(r).string=t.name+"*"+t.number):(e.getChildByName("1").active=!0,e.getChildByName("2").active=!1,e.getChildByName("3").active=!1,e.getChildByName("4").active=!1,e.getChildByPath("1/Label-001").getComponent(r).string=t.name+("再接再厉"==t.name?"":"*"+t.number))},a.onCloseBtnClick=function(){this.isStartDraw||(this.node.active=!1,this.node.parent.getChildByName("CardPanel").active=!0)},a.onDrawBtnClick=function(){var e=this;this.timer1=0,this.timer2=0,this.canSlowed=!1,c.NetMgr.httpPost(l.luckyDraw,{userId:c.UserMgr.userData.userId,deptCode:c.UserMgr.userData.deptCode,setCardsId:c.CardMgr.getSetCardObjByName().id},this,(function(t){var i=JSON.parse(t);0==i.code&&"success"==i.msg&&null!=i.data.prizeList?(e.drawData=i.data,e.curSpeed=e.speed0,e.endIndex=e.getEndIndexById(e.drawData.id),e.prePoint=e.endIndex-d(1,5),e.isStartDraw=!0):c.HintMgr.showHintLabel(i.data)}),(function(){}))},a.update=function(e){if(0!=this.isStartDraw&&(this.timer1+=e,this.timer2+=e,this.timer1<this.endTime&&(this.curSpeed-=.004,this.curSpeed<=this.speed1&&(this.curSpeed=this.speed1)),this.timer1>=this.endTime&&1==this.canSlowed&&(this.curSpeed+=.003,this.curSpeed>=this.speed0&&(this.curSpeed=this.speed0)),this.timer2>=this.curSpeed)){if(this.timer2=0,this.selectNextItem(),this.curSelectIndex==this.endIndex&&this.timer1>=this.endTime&&this.curSpeed==this.speed0&&1==this.canSlowed)return this.isStartDraw=!1,void c.HintMgr.showHintLabel("获得"+this.getDrawDataStr());this.curSpeed>=.05?c.AudioMgr.playFx("转盘抽奖2"):c.AudioMgr.playFx("转盘抽奖3")}},a.selectNextItem=function(){this.lisItem[this.curSelectIndex].selectBg.active=!1,this.curSelectIndex++,this.curSelectIndex>=this.lisItem.length&&(this.curSelectIndex=0),this.lisItem[this.curSelectIndex].selectBg.active=!0,this.timer1>=this.endTime&&this.curSelectIndex==(this.prePoint<0?this.prePoint+12:this.prePoint)&&(this.canSlowed=!0)},a.getDrawDataStr=function(){for(var e="",t=0;t<this.drawData.prizeList.length;t++){var i=this.drawData.prizeList[t];e+=i.name+"*"+i.num,t<this.drawData.prizeList.length-1&&(e+="、")}return e},a.getEndIndexById=function(e){for(var t=0;t<this.lisItem.length;t++)if(this.lisItem[t].item.name==e)return t;return 0},i}(h))||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/XueshifuPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NetMgr.ts","./Global.ts"],(function(e){"use strict";var t,i,n,s,a,r,o,l,h,g,d,u;return{setters:[function(e){t=e.inheritsLoose,i=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,s=e._decorator,a=e.Button,r=e.director,o=e.Label,l=e.EditBox,h=e.Sprite,g=e.Component},function(e){d=e.ApiType},function(e){u=e.Global}],execute:function(){var c;n._RF.push({},"37528Ws+ZNHypYwyK6gEgO1","XueshifuPanel",void 0);var p=s.ccclass;s.property,e("XueshifuPanel",p("XueshifuPanel")(c=function(e){function n(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).player=null,t.slider=null,t.list=null,t.editBox=null,t.userData=null,t}t(n,e);var s=n.prototype;return s.start=function(){var e,t,n,s,g=this;null===(e=this.node.getChildByName("CloseBtn"))||void 0===e||null===(t=e.getComponent(a))||void 0===t||t.node.on(a.EventType.CLICK,(function(){return r.loadScene("main")}),this),null===(n=this.node.getChildByName("LoginOutBtn"))||void 0===n||null===(s=n.getComponent(a))||void 0===s||s.node.on(a.EventType.CLICK,this.onLoginOutBtnClick,this),this.player=this.node.getChildByName("Player"),this.slider=this.node.getChildByName("Slider"),this.list=this.node.getChildByName("List"),this.userData=u.UserMgr.userData,this.player.getChildByPath("Name/Text").getComponent(o).string=this.userData.nickName,this.player.getChildByPath("Class/Text").getComponent(o).string=this.userData.gradeYear+"级"+this.userData.grade+this.userData.classes+"班",this.player.getChildByPath("School/Text").getComponent(o).string=this.userData.schoolName,this.player.getChildByPath("Nickname/Text").getComponent(o).string=this.userData.petName,this.player.getChildByName("GrilImg").active=0==this.userData.sex,this.player.getChildByName("BoyImg").active=1==this.userData.sex,this.player.getChildByPath("Nickname/ChangeBtn").on(a.EventType.CLICK,this.onChangeNicknameBtnClick,this),this.editBox=this.player.getChildByPath("Nickname/EditBox").getComponent(l),this.editBox.node.active=!1;for(var d,c=i(this.slider.getChildByName("Steps").children);!(d=c()).done;){var p=d.value;p.active=p.getSiblingIndex()+1==this.userData.level}this.slider.getChildByPath("FilledBg/FilledFg").getComponent(h).fillRange=this.userData.experience/9999,this.slider.getChildByPath("FilledBg/Text").getComponent(o).string=this.userData.experience+"",this.list.getChildByPath("item0/Label-001").getComponent(o).string=this.userData.joinNum+"",this.list.getChildByPath("item1/Label-001").getComponent(o).string=this.userData.passNum+"",this.list.getChildByPath("item2/Label-001").getComponent(o).string=this.userData.passRate+"",this.list.getChildByPath("item3/Label-001").getComponent(o).string=this.userData.medalNum+"",u.UserMgr.getLevelConfig({context:this,succeed:function(){g.onGetLevelConfigSucceed()},failed:function(){}})},s.onGetLevelConfigSucceed=function(){var e=u.UserMgr.getCurLevelSetpObj(),t=u.UserMgr.userData.experience/u.UserMgr.getMaxLevelStepObj().minExperience;this.slider.getChildByPath("FilledBg/FilledFg").getComponent(h).fillRange=t,this.slider.getChildByPath("FilledBg/Text").getComponent(o).string=u.UserMgr.userData.experience+"",this.slider.getChildByPath("FilledBg/Text-001").getComponent(o).string="/ "+u.UserMgr.getMaxLevelStepObj().minExperience+"("+u.UserMgr.getMaxLevelStepObj().name+")";for(var i=this.slider.getChildByName("Steps"),n=0;n<i.children.length;n++){var s=i.children[n];s.active=s.name==e.name}var a=this.slider.getChildByName("Ma"),r=a.position.x,l=r+(this.slider.getChildByName("MaEnd").position.x-r)*t;a.setPosition(l,a.position.y,a.position.z)},s.onLoginOutBtnClick=function(){u.UserMgr.loginOut(),r.loadScene("login")},s.onChangeNicknameBtnClick=function(){this.editBox.node.active=!0,this.editBox.string=u.UserMgr.userData.petName,this.editBox.node.on("editing-did-ended",this.onEditDidEnded,this),this.editBox.focus()},s.onEditDidBegan=function(e){},s.onEditDidEnded=function(e){var t=this;this.editBox.node.active=!1,console.log(e),this.editBox.string!=u.UserMgr.userData.petName&&u.NetMgr.httpPost(d.updateUserInfoExtent,{userId:u.UserMgr.userData.userId,petName:this.editBox.string},this,(function(e){0==JSON.parse(e).code&&(t.player.getChildByPath("Nickname/Text").getComponent(o).string=t.editBox.string,u.UserMgr.userData.petName=t.editBox.string)}),(function(){}))},n}(g))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/CardPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NetMgr.ts","./Global.ts","./CardComposePanel.ts"],(function(e){"use strict";var t,n,a,r,i,o,s,d,C,c;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,r=e._decorator,i=e.Button,o=e.Label,s=e.Component},function(e){d=e.ApiType},function(e){C=e.Global},function(e){c=e.CardComposePanel}],execute:function(){var h;a._RF.push({},"47a23M4SCdMEYquYIpIj1Yf","CardPanel",void 0);var l=r.ccclass;r.property,e("CardPanel",l("CardPanel")(h=function(e){function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).cards=null,t}t(a,e);var r=a.prototype;return r.start=function(){this.node.getChildByPath("ReturnBtn/Btn").on(i.EventType.CLICK,this.onCloseBtnClick,this),this.node.getChildByPath("ComposeBtn").on(i.EventType.CLICK,this.onComposeBtnClick,this),this.node.getChildByPath("LuckDrawBtn").on(i.EventType.CLICK,this.onLuckDrawBtnClick,this),this.cards=this.node.getChildByName("Cards");for(var e,t=n(this.cards.children);!(e=t()).done;){e.value.on(i.EventType.CLICK,this.onCardComposeBtnClick,this)}this.setCardsShow()},r.setCardsShow=function(){var e=this;C.CardMgr.setCardsShow({context:this,succeed:function(){e.refershCards()},failed:function(){}})},r.refershCards=function(){for(var e,t=n(this.cards.children);!(e=t()).done;){var a=e.value,r=a.name.substring(a.name.length-1,a.name.length),s=C.CardMgr.getCardObjByName(r),d=C.CardMgr.getUserCardObjById(s.id);null!=d&&d.userCard.num>0?(a.getChildByName("道具数底框圆").active=!0,a.getChildByName("Num").active=!0,a.getChildByName("Num").getComponent(o).string=d.userCard.num+"",a.getChildByName(a.name).active=!0):(a.getChildByName("道具数底框圆").active=!1,a.getChildByName("Num").active=!1,a.getChildByName(a.name).active=!1),a.on(i.EventType.CLICK,this.onCardComposeBtnClick,this)}var c=C.CardMgr.getUserSetCardNumByName();this.node.getChildByPath("LuckDrawBtn/道具数底框圆").active=c>=1,this.node.getChildByPath("LuckDrawBtn/Num").active=c>=1,this.node.getChildByPath("LuckDrawBtn/Num").getComponent(o).string=c+""},r.onCloseBtnClick=function(){this.node.active=!1,this.node.parent.getChildByName("ActivityPanel").active=!0},r.onComposeBtnClick=function(){var e=this;C.AudioMgr.playFx("合成"),C.NetMgr.httpPost(d.synthesis,{userId:C.UserMgr.userData.userId,syntheticTargetId:C.CardMgr.getSetCardObjByName().id,syntheticTargetType:1},this,(function(t){var n=JSON.parse(t);C.HintMgr.showHintLabel(n.data.message),0==n.code&&"success"==n.msg&&null!=n.data&&"合成十二生肖成功"==n.data.message&&e.setCardsShow()}),(function(){}))},r.onLuckDrawBtnClick=function(){this.node.parent.getChildByName("LuckDrawPanel").active=!0},r.onCardComposeBtnClick=function(e){var t=e.target.name.substring(e.target.name.length-1,e.target.name.length);console.log("点击了"+t),this.node.parent.getChildByName("CardComposePanel").active=!0,this.node.parent.getChildByName("CardComposePanel").getComponent(c).show(t)},a}(s))||h);a._RF.pop()}}}));

System.register("chunks:///_virtual/QintianjianPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NetMgr.ts","./Global.ts"],(function(t){"use strict";var e,n,a,i,o,r,l,s,h,u,d;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator,i=t.Button,o=t.director,r=t.UITransform,l=t.instantiate,s=t.Label,h=t.Component},function(t){u=t.ApiType},function(t){d=t.Global}],execute:function(){var c;n._RF.push({},"537441ivElORqpLPjSc4eN2","QintianjianPanel",void 0);var m=a.ccclass;a.property,t("QintianjianPanel",m("QintianjianPanel")(c=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).lisRankData=[],e.rankContent=null,e.prefab=null,e}e(n,t);var a=n.prototype;return a.start=function(){var t,e,n,a,r,l,s,h;null===(t=this.node.getChildByName("CloseBtn"))||void 0===t||null===(e=t.getComponent(i))||void 0===e||e.node.on(i.EventType.CLICK,(function(){return o.loadScene("main")}),this),null===(n=this.node.getChildByName("ActivityBtn"))||void 0===n||null===(a=n.getComponent(i))||void 0===a||a.node.on(i.EventType.CLICK,(function(){return d.jumpToScene("activity")}),this),null===(r=this.node.getChildByName("HistoryBtn"))||void 0===r||null===(l=r.getComponent(i))||void 0===l||l.node.on(i.EventType.CLICK,(function(){return d.jumpToScene("history")}),this),null===(s=this.node.getChildByPath("MyRank/MyMedalBtn"))||void 0===s||null===(h=s.getComponent(i))||void 0===h||h.node.on(i.EventType.CLICK,(function(){return d.jumpToScene("medal")}),this),this.rankContent=this.node.getChildByPath("ScrollView/view/content"),this.prefab=this.rankContent.getChildByName("item"),this.prefab.active=!1;var c={userId:d.UserMgr.userData.userId,deptCode:d.UserMgr.userData.deptCode,current:0,size:20};this.node.getChildByName("MyRank").active=!1,d.NetMgr.httpPost(u.totalRank,c,this,this.onGetTotalRankSucceed,(function(){}))},a.onGetTotalRankSucceed=function(t){var e=JSON.parse(t).data;this.lisRankData=e.rankList,this.rankContent.getComponent(r).height=this.lisRankData.length*this.prefab.getComponent(r).height+19*this.lisRankData.length+20;for(var n=0;n<this.lisRankData.length;n++){var a=l(this.prefab);null==a||a.setParent(this.rankContent),a.active=!0,this.refershRankItem(a,this.lisRankData[n])}var i=e.personalRank;this.refershRankItem(this.node.getChildByName("MyRank"),i)},a.refershRankItem=function(t,e){t.active=null!=e,null!=e&&(1==e.rank?t.getChildByName("1金牌").active=!0:2==e.rank?t.getChildByName("2银牌").active=!0:3==e.rank?t.getChildByName("3铜牌").active=!0:(t.getChildByName("RankNum").active=!0,t.getChildByName("RankNum").getComponent(s).string=e.rank+""),t.getChildByName("Name").getComponent(s).string=e.petName,t.getChildByName("CardNum").getComponent(s).string="集卡积分"+e.experience,t.getChildByName("MedalNum").getComponent(s).string=e.medalNum+"",e.headPortrait&&d.NetMgr.loadImgByUrl(t.getChildByPath("HeadImg/Img"),d.NetMgr.baseurl+"/"+e.headPortrait))},a.getFakeData=function(){for(var t=[],e=0;e<50;e++)t.push({rank:e+1,petName:"测试petName"+e,headPortrait:"https://yoyohan1.gitee.io/logo.ico",experience:e,medalNum:e});return t},n}(h))||c),t("RankData",(function(){this.rank=0,this.petName="",this.headPortrait="",this.experience=0,this.medalNum=0}));n._RF.pop()}}}));

System.register("chunks:///_virtual/StartPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,l,s,n,o,r;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,l=t._decorator,s=t.Sprite,n=t.Label,o=t.director,r=t.Component}],execute:function(){var a;e._RF.push({},"59aaevF/ZJD6av05wSmKrOv","StartPanel",void 0);var h=l.ccclass;l.property,t("StartPanel",h("StartPanel")(a=function(t){function e(){for(var i,e=arguments.length,l=new Array(e),s=0;s<e;s++)l[s]=arguments[s];return(i=t.call.apply(t,[this].concat(l))||this).filledImg=null,i.filledLabel=null,i.ma=null,i.startPos=0,i.endPos=0,i.timer=0,i.willToTimer=0,i}i(e,t);var l=e.prototype;return l.start=function(){var t=this;this.filledImg=this.node.getChildByName("加载条上层").getComponent(s),this.filledLabel=this.node.getChildByName("Label-001").getComponent(n),this.filledImg.fillRange=0,this.filledLabel.string="0%",this.ma=this.node.getChildByName("Ma"),this.startPos=this.ma.position.x,this.endPos=this.node.getChildByName("MaEnd").position.x,o.preloadScene("login",(function(i,e,l){t.willToTimer=i/e*100}),this.onSceneLoaded)},l.update=function(t){this.timer+=30*t,this.timer>100&&(this.timer=100),this.willToTimer>this.timer?this.refersh(this.timer/100):this.refersh(this.willToTimer/100)},l.refersh=function(t){this.filledImg.fillRange=t,this.filledLabel.string=Math.floor(100*this.filledImg.fillRange)+"%";var i=this.startPos+(this.endPos-this.startPos)*this.filledImg.fillRange;this.ma.setPosition(i,this.ma.position.y,this.ma.position.z),1==t&&o.loadScene("login")},l.onSceneLoaded=function(t,i){},e}(r))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/ShotGameMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NetMgr.ts","./ShotOverPanel.ts","./Global.ts"],(function(r){"use strict";var e,s,o,t,i,a,n,c;return{setters:[function(r){e=r.createClass},function(r){s=r.cclegacy,o=r._decorator,t=r.randomRangeInt,i=r.director},function(r){a=r.ApiType},function(r){n=r.ShotOverPanel},function(r){c=r.Global}],execute:function(){s._RF.push({},"603faRyrv5PsIWoYNku+Fxp","ShotGameMgr",void 0);o.ccclass,o.property,r("ShotGameMgr",function(){function r(){this.challengeNum=3,this.challengeTime=5,this.bulletNum=9,this.isGetRule1=!1,this.isGetRule2=!1,this.curBulletNum=0,this.lisTopic=[],this.curLisTopic=[],this.lisDuck=[],this._shootGamePanel=null,this.isGameSucceed=!1,this.isGameOver=!1,this.shotsFired=0,this.getBulletsNum=0,this.curLevelStartTime=new Date,this.curLevelEndTime=new Date,this.mBookObj=null,this.rightNum=0,this.wrongNum=0,this.lisAnswerTopic=[],this.curBulletNum=this.bulletNum,this.lisTopic=this.curLisTopic=JSON.parse('[{"topicID":12613,"correct_anser":"崔建林","errosr_ansmer2":"白岩松","errosr_ansmer3":"撒贝宁","topic":"《365夜故事》的作者是？","errosr_ansmer1":"崔永元","bookName":"365夜故事"},{"topicID":12614,"correct_anser":"把自己变成了金子","errosr_ansmer2":"把公主变成了青蛙","errosr_ansmer3":"把皇帝变成了老虎","topic":"贪心的皇帝和公主最后的结局怎么样？","errosr_ansmer1":"把自己变成了老鼠","bookName":"365夜故事"},{"topicID":12615,"correct_anser":"狐狸","errosr_ansmer2":"小鹿","errosr_ansmer3":"狗","topic":"到底是谁吃了蜂蜜？","errosr_ansmer1":"熊","bookName":"365夜故事"},{"topicID":12616,"correct_anser":"兔子","errosr_ansmer2":"狐狸","errosr_ansmer3":"猫","topic":"谁吓跑了老虎，救了大象？","errosr_ansmer1":"狼","bookName":"365夜故事"},{"topicID":12617,"correct_anser":"熊和猴子","errosr_ansmer2":"狼","errosr_ansmer3":"狗","topic":"《兔子伤风了》中狮子把谁吃了？","errosr_ansmer1":"兔子","bookName":"365夜故事"},{"topicID":12618,"correct_anser":"沙子","errosr_ansmer2":"风","errosr_ansmer3":"水","topic":"《一袋金粉》中朋友骗他说金粉变成了什么？","errosr_ansmer1":"冰","bookName":"365夜故事"},{"topicID":12619,"correct_anser":"鹦鹉","errosr_ansmer2":"狗","errosr_ansmer3":"猫","topic":"《一袋金粉》中他骗朋友说朋友的儿子变成了什么？","errosr_ansmer1":"小鸟","bookName":"365夜故事"},{"topicID":12620,"correct_anser":"钻石","errosr_ansmer2":"项链","errosr_ansmer3":"金子","topic":"《珍贵的大木碗》中土著人送了什么给谢赫？","errosr_ansmer1":"木碗","bookName":"365夜故事"},{"topicID":12621,"correct_anser":"大木碗","errosr_ansmer2":"金子","errosr_ansmer3":"树叶","topic":"《珍贵的大木碗》中土著人送了什么给老板哈桑？","errosr_ansmer1":"钻石","bookName":"365夜故事"},{"topicID":12622,"correct_anser":"鸽子","errosr_ansmer2":"猴子","errosr_ansmer3":"兔子","topic":"谁是长者中谁是最年长的呢？","errosr_ansmer1":"象","bookName":"365夜故事"},{"topicID":12623,"correct_anser":"象","errosr_ansmer2":"兔子","errosr_ansmer3":"猴子","topic":"谁是长者中谁是最年轻的呢？","errosr_ansmer1":"鸽子","bookName":"365夜故事"},{"topicID":12624,"correct_anser":"美丽","errosr_ansmer2":"好的身材","errosr_ansmer3":"深邃的眼睛","topic":"《善良的心》中第一位算命家给公主的礼物是？","errosr_ansmer1":"金子","bookName":"365夜故事"},{"topicID":12625,"correct_anser":"善良","errosr_ansmer2":"诚实","errosr_ansmer3":"阳光","topic":"《善良的心》中女王给公主的礼物是？","errosr_ansmer1":"美貌","bookName":"365夜故事"},{"topicID":12626,"correct_anser":"想要别人孵出40只黑色的小鸡","errosr_ansmer2":"摘星星","errosr_ansmer3":"种树","topic":"愚蠢的女地主想要做什么？","errosr_ansmer1":"捞月亮","bookName":"365夜故事"},{"topicID":12627,"correct_anser":"干草","errosr_ansmer2":"狗毛","errosr_ansmer3":"毛毯","topic":"小兔过冬中，狗送了什么给小兔？","errosr_ansmer1":"棉袄","bookName":"365夜故事"},{"topicID":12628,"correct_anser":"10","errosr_ansmer2":"12","errosr_ansmer3":"13","topic":"小熊数面包中，河马大嫂要了几个面包？","errosr_ansmer1":"11","bookName":"365夜故事"},{"topicID":12629,"correct_anser":"7","errosr_ansmer2":"15","errosr_ansmer3":"6","topic":"小熊数面包中，小熊数了多少面包给别人？","errosr_ansmer1":"8","bookName":"365夜故事"},{"topicID":12630,"correct_anser":"鸭子狄丽","errosr_ansmer2":"玛丽","errosr_ansmer3":"露丝","topic":"爱笑的鸭子中，谁被留下来了没有被送到市场去？","errosr_ansmer1":"菲士","bookName":"365夜故事"},{"topicID":12631,"correct_anser":"大黑和小黑","errosr_ansmer2":"大黄和小黄","errosr_ansmer3":"大鹅和小鹅","topic":"两只笨狗熊中，两个孩子叫什么名字？","errosr_ansmer1":"大林和小林","bookName":"365夜故事"},{"topicID":12632,"correct_anser":"狐狸大婶","errosr_ansmer2":"大象爷爷","errosr_ansmer3":"鸭子阿姨","topic":"两只笨狗熊中，谁帮两只熊分面包？","errosr_ansmer1":"河马叔叔","bookName":"365夜故事"},{"topicID":12633,"correct_anser":"鼠","errosr_ansmer2":"牛","errosr_ansmer3":"兔","topic":"十二生肖中，谁排第一?","errosr_ansmer1":"虎","bookName":"365夜故事"},{"topicID":12634,"correct_anser":"谁去给大花猫带铃铛","errosr_ansmer2":"怎么钻洞","errosr_ansmer3":"怎么偷东西吃","topic":"老鼠开会的内容是什么？","errosr_ansmer1":"谁去偷东西","bookName":"365夜故事"},{"topicID":12635,"correct_anser":"什么也没有","errosr_ansmer2":"鱼","errosr_ansmer3":"小鸟","topic":"小花猫和蝴蝶中，小花猫逮住了什么？","errosr_ansmer1":"蝴蝶","bookName":"365夜故事"},{"topicID":12636,"correct_anser":"没人陪他玩","errosr_ansmer2":"黑熊","errosr_ansmer3":"松鼠","topic":"小花狗找朋友中，谁和小花狗一起玩？","errosr_ansmer1":"刺猬","bookName":"365夜故事"},{"topicID":12637,"correct_anser":"老苹果树","errosr_ansmer2":"啄木鸟","errosr_ansmer3":"喜鹊","topic":"啄木鸟看病中，谁生病了？","errosr_ansmer1":"小苹果树","bookName":"365夜故事"},{"topicID":12638,"correct_anser":"把树干里的虫子啄出来","errosr_ansmer2":"开药","errosr_ansmer3":"喂病人吃虫子","topic":"啄木鸟是怎么看病的？","errosr_ansmer1":"把脉","bookName":"365夜故事"},{"topicID":12639,"correct_anser":"井里","errosr_ansmer2":"海里","errosr_ansmer3":"水沟","topic":"两只青蛙中，大青蛙住在哪里？","errosr_ansmer1":"河里","bookName":"365夜故事"},{"topicID":12640,"correct_anser":"河里","errosr_ansmer2":"井里","errosr_ansmer3":"海里","topic":"两只青蛙中，小青蛙住在哪里？","errosr_ansmer1":"水沟","bookName":"365夜故事"},{"topicID":12641,"correct_anser":"把自己的肚子胀破了","errosr_ansmer2":"把自己撑死了","errosr_ansmer3":"喝了一口就晕了","topic":"大青蛙想把小青蛙家的水喝光，结果？","errosr_ansmer1":"真的喝光了","bookName":"365夜故事"},{"topicID":12642,"correct_anser":"在树洞里","errosr_ansmer2":"在泥塘里","errosr_ansmer3":"在岩石下","topic":"《小兔的家》中，土拨鼠的家在哪里？","errosr_ansmer1":"在水里","bookName":"365夜故事"}]')}var s=r.prototype;return s.getShootRule=function(){var r=this;0==this.isGetRule1&&c.NetMgr.httpPost(a.getShootGameRule,{},this,(function(e){var s=JSON.parse(e).data;null!=s&&null!=s&&(r.bulletNum=s,r.isGetRule1=!0)}),(function(){})),0==this.isGetRule2&&c.NetMgr.httpPost(a.getShootAnswerRule,{deptCode:c.UserMgr.userData.deptCode},this,(function(e){var s=JSON.parse(e).data;null!=s&&null!=s&&(r.challengeNum=s.challengeNum,r.challengeTime=s.challengeTime,r.isGetRule2=!0)}),(function(){}))},s.getAddBulletTopic=function(){if(this.curLisTopic.length<=0)return console.log("没有题目了 不可增加子弹！"),null;var r=t(0,this.curLisTopic.length),e=this.curLisTopic[r];return e.lisOption=[],null!=e.errosr_ansmer1&&null!=e.errosr_ansmer1&&e.lisOption.push(e.errosr_ansmer1),null!=e.errosr_ansmer2&&null!=e.errosr_ansmer2&&e.lisOption.push(e.errosr_ansmer2),null!=e.errosr_ansmer3&&null!=e.errosr_ansmer3&&e.lisOption.push(e.errosr_ansmer3),e.lisOption.splice(t(0,e.lisOption.length+1),0,e.correct_anser),this.curLisTopic=this.curLisTopic.filter((function(r){return r!==e})),console.log("取一道题后，现有题数量为"+this.curLisTopic.length),e},s.startGame=function(r,e){this.lisTopic=r,this.mBookObj=e,this.curLisTopic=this.lisTopic,this.curBulletNum=this.bulletNum,this.lisDuck=[],this.shootGamePanel=null,this.isGameSucceed=!1,this.isGameOver=!1,this.shotsFired=0,this.getBulletsNum=0,this.rightNum=0,this.wrongNum=0,this.lisAnswerTopic=[],i.loadScene("shot")},s.shot=function(){this.curBulletNum--,this.shotsFired++},s.addBullet=function(){this.curBulletNum++,this.getBulletsNum++},s.judgeGameOver=function(){this.getCurDiedNum()>=this.lisDuck.length?this.gameOver(!0):c.ShotGameMgr.curLisTopic.length<=0&&c.ShotGameMgr.curBulletNum<=0&&this.gameOver(!1)},s.getCurDiedNum=function(){for(var r=0,e=0;e<this.lisDuck.length;e++){1==this.lisDuck[e].getIsDied()&&r++}return r},s.gameOver=function(r,e){var s=this;if(void 0===e&&(e=!0),this.isGameOver=!0,this.isGameSucceed=r,this.curLevelEndTime=new Date,e){var o=this.shootGamePanel.node.parent.getChildByName("ShotOverPanel");o.active=!0,o.getComponent(n).gameOver(),this.isGameSucceed?(c.AudioMgr.playFx("挑战成功"),c.GoodsMgr.openReward(4),setTimeout((function(){c.GoodsMgr.openReward(6)}),2e3)):c.AudioMgr.playFx("闯关失败")}c.NetMgr.httpPost(a.saveShootGameHistory,{userId:c.UserMgr.userData.userId,deptCode:c.UserMgr.userData.deptCode,hitsNum:this.getCurDiedNum()+"",hitsRate:this.getCurDiedNum()/this.shotsFired,shotsFired:this.shotsFired+"",getBulletsNum:this.getBulletsNum+"",startTime:c.GameUtils.dateFormat(this.curLevelStartTime),endTime:c.GameUtils.dateFormat(this.curLevelEndTime)},this,(function(){}),(function(){})),c.NetMgr.httpPost(a.saveShootTestHistory,{userId:c.UserMgr.userData.userId+"",classCode:c.UserMgr.userData.classCode,deptCode:c.UserMgr.userData.deptCode,bookId:this.mBookObj.bookID+"",bookName:this.mBookObj.bookName,startTime:c.GameUtils.dateFormat(this.curLevelStartTime),endTime:c.GameUtils.dateFormat(this.curLevelEndTime),timeLong:Math.floor((this.curLevelEndTime.valueOf()-this.curLevelStartTime.valueOf())/1e3)+"",totalNum:this.lisTopic.length+"",passNum:this.rightNum+"",failNum:this.wrongNum+"",passRate:(this.rightNum/(this.rightNum+this.wrongNum)).toFixed(4)+"",status:this.isGameSucceed?"1":"0"},this,(function(r){var e=JSON.parse(r);if("0"==e.code&&"success"==e.msg&&null!=e.data&&null!=e.data.historyId){for(var o=0;o<s.lisAnswerTopic.length;o++)s.lisAnswerTopic[o].historyId=e.data.historyId;c.NetMgr.httpPost(a.saveShootTestHistoryDetails,s.lisAnswerTopic,s,(function(){}),(function(){}))}}),(function(){}))},e(r,[{key:"shootGamePanel",get:function(){return null==this._shootGamePanel&&console.log("shootGamePanel为空了"),this._shootGamePanel},set:function(r){console.log(null==r?"shootGamePanel设为空":"shootGamePanel到位！"),this._shootGamePanel=r}}]),r}());s._RF.pop()}}}));

System.register("chunks:///_virtual/ShotAnswerPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./ShotGamePanel.ts"],(function(t){"use strict";var e,n,i,o,s,r,l,h,a,c,g,p,u,m;return{setters:[function(t){e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy,o=t._decorator,s=t.Label,r=t.Button,l=t.tween,h=t.Vec3,a=t.instantiate,c=t.Toggle,g=t.EventHandler,p=t.Component},function(t){u=t.Global},function(t){m=t.ShotGamePanel}],execute:function(){var d;i._RF.push({},"64481D21ttBwLrMwqHW5E1M","ShotAnswerPanel",void 0);var C=o.ccclass;o.property,t("ShotAnswerPanel",C("ShotAnswerPanel")(d=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).content=null,e.topicLabel=null,e.prefab=null,e.wrongImg=null,e.rightImg=null,e.nextBtn=null,e.mTopic=null,e.lisOptionNode=[],e.lisABCD=["A","B","C","D","E","F","G"],e.lisAnswer=[],e.isAnswered=!1,e.answerTimeoutId=-1,e}e(i,t);var o=i.prototype;return o.onLoad=function(){this.content=this.node.getChildByPath("Main/Content"),this.topicLabel=this.content.getChildByName("Title").getComponent(s),this.prefab=this.content.getChildByName("Item"),this.prefab.active=!1,this.wrongImg=this.node.getChildByPath("Main/WrongImg"),this.rightImg=this.node.getChildByPath("Main/RightImg"),this.nextBtn=this.node.getChildByPath("Main/NextBtn").getComponent(r)},o.start=function(){this.node.getChildByPath("Main/CloseBtn/Btn").getComponent(r).node.on(r.EventType.CLICK,this.onCloseBtnClick,this),this.nextBtn.node.on(r.EventType.CLICK,this.onNextBtnClick,this)},o.onCloseBtnClick=function(){this.playPanelAnim(!1)},o.playPanelAnim=function(t){var e=this,n=this.node.getChildByName("Main");t?(n.setPosition(0,3e3,0),this.node.getChildByName("SpriteSplash").active=!0,l(n).to(.3,{position:new h(-4.006,121.503,0)},{easing:"backOut"}).start()):l(n).to(.3,{position:new h(-4.006,3e3,0)},{easing:"backIn"}).call((function(){e.node.getChildByName("SpriteSplash").active=!1})).start()},o.refershAddBulletPanel=function(t){this.mTopic=t,this.topicLabel.string=this.mTopic.topic,this.wrongImg.active=!1,this.rightImg.active=!1,this.lisOptionNode=[],this.lisAnswer=[],this.isAnswered=!1,-1!=this.answerTimeoutId&&clearTimeout(this.answerTimeoutId);var e=this;this.answerTimeoutId=setTimeout((function(){e.timeOut()}),1e3*u.ShotGameMgr.challengeTime),this.refershNextBtn();for(var i,o=n(this.content.children);!(i=o()).done;){var r,l=i.value;l!=this.prefab&&l!=(null===(r=this.topicLabel)||void 0===r?void 0:r.node)&&l.destroy()}for(var h=0;h<this.mTopic.lisOption.length;h++){var p=a(this.prefab);null==p||p.setParent(this.content),p.active=!0,this.lisOptionNode.push(p),p.getComponent(s).string=this.lisABCD[h]+"："+this.mTopic.lisOption[h];var m=p.getChildByName("Toggle").getComponent(c);if(m.isChecked=!1,m.interactable=!0,m.checkEvents.length<=0){var d=new g;d.target=this.node,d.component="ShotAnswerPanel",d.handler="onOptionChecked",d.customEventData=this.lisABCD[h],m.checkEvents.push(d)}}},o.onOptionChecked=function(t,e){if(!this.isAnswered){for(var n=0;n<this.lisOptionNode.length;n++){this.lisOptionNode[n].getChildByName("Toggle").getComponent(c).isChecked=this.lisABCD[n]==e}this.lisAnswer.push(e);var i=t.node.parent.getComponent(s).string.replace(e+"：",""),o=this.mTopic.correct_anser==i;o?u.ShotGameMgr.rightNum++:u.ShotGameMgr.wrongNum++,this.refershAnswer(o,i)}},o.refershAnswer=function(t,e){var n,i,o,s;this.isAnswered=!0;for(var r=0;r<this.lisOptionNode.length;r++)this.lisOptionNode[r].getChildByName("Toggle").getComponent(c).interactable=!1;this.wrongImg.active=!t,this.rightImg.active=t,t?(u.ShotGameMgr.addBullet(),u.HintMgr.showHintLabel("增加了1颗子弹"),this.node.parent.getChildByName("ShotGamePanel").getComponent(m).refershPanel(),u.AudioMgr.playFx("答题正确")):u.ShotGameMgr.judgeGameOver(),this.refershNextBtn(),u.ShotGameMgr.lisAnswerTopic.push({topic:this.mTopic.topicID,answer1:null!==(n=this.mTopic.lisOption[0])&&void 0!==n?n:"",answer2:null!==(i=this.mTopic.lisOption[1])&&void 0!==i?i:"",answer3:null!==(o=this.mTopic.lisOption[2])&&void 0!==o?o:"",answer4:null!==(s=this.mTopic.lisOption[3])&&void 0!==s?s:"",correctAnswer:this.mTopic.correct_anser,studentAnswer:e,answerTime:u.GameUtils.dateFormat(),status:t?"1":"0"}),clearTimeout(this.answerTimeoutId)},o.refershNextBtn=function(){u.ShotGameMgr.curBulletNum>=u.ShotGameMgr.bulletNum||u.ShotGameMgr.curLisTopic.length<=0?this.nextBtn.interactable=!1:this.nextBtn.interactable=!0},o.onNextBtnClick=function(){var t=u.ShotGameMgr.getAddBulletTopic();null!=t?null==this||this.refershAddBulletPanel(t):u.HintMgr.showHintLabel("没有下一题了")},o.timeOut=function(){console.log("答题时间结束！答题面板是否存在："+(null!=this.content)),null!=this.content&&this.refershAnswer(!1,"")},i}(p))||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/ShotGamePanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./EveryDuck.ts","./ShotAnswerPanel.ts"],(function(t){"use strict";var e,n,o,i,a,s,h,l,r,u,d,m,c,g,p,B,v,C,f;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.Button,a=t.Label,s=t.instantiate,h=t.randomRange,l=t.Animation,r=t.UITransform,u=t.Node,d=t.systemEvent,m=t.SystemEvent,c=t.Vec3,g=t.math,p=t.KeyCode,B=t.Component},function(t){v=t.Global},function(t){C=t.EveryDuck},function(t){f=t.ShotAnswerPanel}],execute:function(){var y;n._RF.push({},"6cb6cha6EFBAaGhqkn0/0Tj","ShotGamePanel",void 0);var A=o.ccclass;o.property,t("ShotGamePanel",A("ShotGamePanel")(y=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).shotAnswerPanel=null,e.bulletNumLabel=null,e.addBtn=null,e.shotBtn=null,e.leftBoard=null,e.rightBoard=null,e.ducks=null,e.prefab=null,e.isAim=!1,e.aimArea=null,e.aimImg=null,e.preLocation=void 0,e.timeoutId=0,e}e(n,t);var o=n.prototype;return o.onLoad=function(){this.aimArea=this.node.getChildByName("AimArea"),this.aimImg=this.aimArea.getChildByName("AimImg"),this.aimImg.active=!1,v.ShotGameMgr.shootGamePanel=this},o.start=function(){var t=this;this.node.getChildByPath("ReturnBtn/Btn").getComponent(i).node.on(i.EventType.CLICK,this.onCloseBtnClick,this),this.shotAnswerPanel=this.node.parent.getChildByName("ShotAnswerPanel").getComponent(f),this.shotAnswerPanel.node.active=!1,this.node.getChildByPath("PrepareBtn/Btn").getComponent(i).node.on(i.EventType.CLICK,this.onPrepareBtnClick,this),this.bulletNumLabel=this.node.getChildByPath("PrepareBtn/Label-001").getComponent(a),this.addBtn=this.node.getChildByPath("PrepareBtn/AddBtn/Btn").getComponent(i),this.addBtn.node.on(i.EventType.CLICK,this.onAddBtnClick,this),this.shotBtn=this.node.getChildByPath("ShotBtn/Btn").getComponent(i),this.shotBtn.node.on(i.EventType.CLICK,this.onShotBtnClick,this),this.refershPanel(),this.leftBoard=this.node.getChildByName("LeftBoard"),this.rightBoard=this.node.getChildByName("RightBoard"),this.ducks=this.node.getChildByName("Ducks"),this.prefab=this.ducks.getChildByName("Duck"),this.prefab.active=!1;for(var e=0,n=0;n<v.ShotGameMgr.bulletNum;n++)this.timeoutId=setTimeout((function(){if(null!=t.prefab){var e=s(t.prefab);e.active=!0,null==e||e.setParent(t.ducks);var n=e.getComponent(C);null==n||n.setBoard(t.leftBoard,t.rightBoard),null==n||n.startFly(),v.ShotGameMgr.lisDuck.push(n)}}),e),e+=h(800,1200);v.IdiomsGameMgr.curLevelStartTime=new Date,v.AudioMgr.playMusic("射击游戏背景音乐"),v.GoodsMgr.openReward(5)},o.onPrepareBtnClick=function(){this.isAim=!this.isAim,this.aimImg.active=this.isAim,this.refershPanel()},o.onShotBtnClick=function(){var t,e;if(v.ShotGameMgr.curBulletNum<=0)v.HintMgr.showHintLabel("子弹不足！");else if(0!=this.isAim){null===(t=this.node.getChildByPath("Gun").getComponent(l))||void 0===t||t.play();var n=this.node.getChildByPath("AimArea/屏幕裂开").getComponent(l);n.play();var o=this.node.getChildByPath("AimArea/AimImg/屏幕裂开Pos");n.node.setWorldPosition(o.worldPosition),v.ShotGameMgr.shot(),this.refershPanel();for(var i=null===(e=this.aimImg)||void 0===e?void 0:e.worldPosition,a=0;a<v.ShotGameMgr.lisDuck.length;a++){var s=v.ShotGameMgr.lisDuck[a],h=s.node.getComponent(r),u=s.node.worldPosition.x-h.width/2,d=s.node.worldPosition.x+h.width/2,m=s.node.worldPosition.y-h.height/2,c=s.node.worldPosition.y+h.height/2;if(i.x>=u&&i.x<=d&&i.y>=m&&i.y<=c){console.log("打中了"),s.shoted();break}}v.ShotGameMgr.judgeGameOver(),v.AudioMgr.playFx("枪声")}},o.refershPanel=function(){this.bulletNumLabel.string=v.ShotGameMgr.curBulletNum+"/"+v.ShotGameMgr.bulletNum,this.addBtn.interactable=v.ShotGameMgr.curBulletNum<v.ShotGameMgr.bulletNum&&v.ShotGameMgr.curLisTopic.length>0,this.shotBtn.interactable=this.isAim},o.onAddBtnClick=function(){var t;if(v.ShotGameMgr.curBulletNum>=v.ShotGameMgr.bulletNum)this.addBtn.interactable=!1;else if(this.shotAnswerPanel.node.active=!0,null===(t=this.shotAnswerPanel)||void 0===t||t.playPanelAnim(!0),null==this.shotAnswerPanel.mTopic){var e,n=v.ShotGameMgr.getAddBulletTopic();if(null!=n)null===(e=this.shotAnswerPanel)||void 0===e||e.refershAddBulletPanel(n);else this.addBtn.interactable=!1}},o.onCloseBtnClick=function(){clearTimeout(this.timeoutId),v.ShotGameMgr.gameOver(!1,!1),v.jumpToGuozijian(1)},o.onEnable=function(){this.aimArea.on(u.EventType.TOUCH_MOVE,this._onTouchMove,this),this.aimArea.on(u.EventType.TOUCH_END,this._onTouchEnd,this),this.aimArea.on(u.EventType.TOUCH_CANCEL,this._onTouchEnd,this),d.on(m.EventType.KEY_DOWN,this.onKeyDown,this)},o.onDisable=function(){this.aimArea.off(u.EventType.TOUCH_MOVE,this._onTouchMove,this),this.aimArea.off(u.EventType.TOUCH_END,this._onTouchEnd,this),this.aimArea.off(u.EventType.TOUCH_CANCEL,this._onTouchEnd,this),d.off(m.EventType.KEY_DOWN,this.onKeyDown,this)},o._onTouchMove=function(t){var e,n=t.getLocation(),o=null===(e=this.aimArea.getComponent(r))||void 0===e?void 0:e.convertToNodeSpaceAR(new c(n.x,n.y,0));if(null==this.preLocation)this.preLocation=o,console.log("第一次点击"+this.preLocation);else{var i=new c;c.subtract(i,o,this.preLocation),this.preLocation=o;var a=new c;c.add(a,i,this.aimImg.position);var s=this.aimArea.getComponent(r).height/2;this.aimImg.setPosition(g.clamp(null==a?void 0:a.x,-540,540),g.clamp(null==a?void 0:a.y,-s,s),0)}},o._onTouchEnd=function(t){this.preLocation=void 0,console.log("清空第一次点击")},o.onKeyDown=function(t){switch(t.keyCode){case p.ENTER:this.onShotBtnClick();break;case p.KEY_Q:this.onPrepareBtnClick()}},o.onDestroy=function(){clearTimeout(this.timeoutId),v.ShotGameMgr.shootGamePanel=null},n}(B))||y);n._RF.pop()}}}));

System.register("chunks:///_virtual/IdiomsGamePanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./EveryAnswer.ts","./EveryChess.ts"],(function(e){"use strict";var t,n,i,o,a,s,r,l,h,d,m;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,o=e.Button,a=e.Label,s=e.instantiate,r=e.Animation,l=e.Component},function(e){h=e.Global},function(e){d=e.EveryAnswer},function(e){m=e.EveryChess}],execute:function(){var C;n._RF.push({},"7051ftvkUpEqYZO8Dbelkka","IdiomsGamePanel",void 0);var g=i.ccclass;i.property,e("IdiomsGamePanel",g("IdiomsGamePanel")(C=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).time=null,t.timer=0,t.hintPanel=null,t.hintPanel2=null,t.chessBoard=null,t.chessPrefab=null,t.answerBoard=null,t.answerPrefab=null,t}t(n,e);var i=n.prototype;return i.onLoad=function(){h.IdiomsGameMgr.idiomsGamePanel=this},i.start=function(){var e,t,n,i,r=this;this.node.getChildByPath("Top/ReturnBtn/Btn").getComponent(o).node.on(o.EventType.CLICK,this.onCloseBtnClick,this),this.node.getChildByPath("Top/Label").getComponent(a).string="第"+h.IdiomsGameMgr.curLevelConfig.checkPoint+"关",this.time=this.node.getChildByPath("Top/Time").getComponent(a),this.refershTime(h.IdiomsGameMgr.curChallengeTime),this.node.getChildByPath("Center/GoodBtn1").on(o.EventType.CLICK,this.onGoodBtn1Click,this),this.node.getChildByPath("Center/GoodBtn2").on(o.EventType.CLICK,this.onGoodBtn2Click,this),this.node.getChildByPath("Center/AgainBtn").on(o.EventType.CLICK,this.onAgainBtnClick,this),this.hintPanel=this.node.getChildByName("HintPanel"),(null===(e=this.hintPanel)||void 0===e?void 0:e.getChildByName("OKBtn")).getComponent(o).node.on(o.EventType.CLICK,this.onGoodOKBtnClick,this),(null===(t=this.hintPanel)||void 0===t?void 0:t.getChildByName("CancelBtn")).getComponent(o).node.on(o.EventType.CLICK,this.onGoodCancelBtnClick,this),this.hintPanel2=this.node.getChildByName("HintPanel2"),(null===(n=this.hintPanel2)||void 0===n?void 0:n.getChildByName("OKBtn")).getComponent(o).node.on(o.EventType.CLICK,this.onGoodOKBtnClick2,this),(null===(i=this.hintPanel2)||void 0===i?void 0:i.getChildByName("CancelBtn")).getComponent(o).node.on(o.EventType.CLICK,this.onGoodCancelBtnClick2,this),null!=h.IdiomsGameMgr.curLevelConfig.firstName&&(this.node.getChildByPath("Center/Label-002").getComponent(a).string=h.IdiomsGameMgr.curLevelConfig.firstName),null!=h.IdiomsGameMgr.curLevelConfig.fastestTime&&(this.node.getChildByPath("Center/Label-003").getComponent(a).string="通关时间  "+h.IdiomsGameMgr.curLevelConfig.fastestTime),null!=h.IdiomsGameMgr.curLevelConfig.firstImage&&h.NetMgr.loadImgByUrl(this.node.getChildByPath("Center/Sprite"),h.NetMgr.baseurl+"/"+h.IdiomsGameMgr.curLevelConfig.firstImage),this.node.getChildByPath("Center/GoodBtn1/Sprite/Label-005").getComponent(a).string="0",this.node.getChildByPath("Center/GoodBtn2/Sprite/Label-005").getComponent(a).string="0",this.node.getChildByPath("Center/GoodBtn1").getComponent(o).interactable=!1,this.node.getChildByPath("Center/GoodBtn2").getComponent(o).interactable=!1,h.IdiomsGameMgr.getProps({context:this,succeed:function(e){r.refershProps()},failed:function(){}}),this.chessBoard=this.node.getChildByPath("Game1/ChessBoard"),this.chessPrefab=this.chessBoard.getChildByName("item"),this.chessPrefab.active=!1;for(var l=!1,C=0;C<9;C++)for(var g=0;g<9;g++){var c=s(this.chessPrefab);c.active=!0,null==c||c.setParent(this.chessBoard);var u=h.IdiomsGameMgr.getData(g,C),B=c.getComponent(m);h.IdiomsGameMgr.lisEveryChess.push(B),null!=u?(null==B||B.setStatus(u.status,u),1==u.status&&0==l&&(l=!0,null==B||B.setSelect(!0))):null==B||B.setStatus(0)}this.answerBoard=this.node.getChildByPath("Game2/AnswerBoard"),this.answerPrefab=this.answerBoard.getChildByName("item"),this.answerPrefab.active=!1;for(var v=0;v<h.IdiomsGameMgr.curLevelConfig.answerList.length;v++){var f=s(this.answerPrefab);f.active=!0,null==f||f.setParent(this.answerBoard);var G=h.IdiomsGameMgr.curLevelConfig.answerList[v],p=f.getComponent(d);h.IdiomsGameMgr.lisEveryAnswer.push(p),null==p||p.setStatus(1,{value:G})}h.IdiomsGameMgr.curLevelStartTime=new Date,h.AudioMgr.playMusic("游戏小秀才背景音乐"),h.GoodsMgr.openReward(2)},i.onCloseBtnClick=function(){h.IdiomsGameMgr.gameBack(),h.AudioMgr.playFx("转场-页面切换"),h.jumpToGuozijian(0)},i.onAgainBtnClick=function(){h.IdiomsGameMgr.startChallenge({context:this,succeed:function(){h.IdiomsGameMgr.loadGameScene(!0)}})},i.playBlackAnimtion=function(){var e=this.node.parent.getChildByName("Black");e.active=!0,e.getComponent(r).play("black"),setTimeout((function(){e.active=!1}),850)},i.onGoodBtn1Click=function(){this.hintPanel.active=!0},i.onGoodBtn2Click=function(){this.hintPanel2.active=!0},i.onGoodOKBtnClick=function(){h.IdiomsGameMgr.useGoods(0),this.hintPanel.active=!1},i.onGoodCancelBtnClick=function(){this.hintPanel.active=!1},i.onGoodOKBtnClick2=function(){h.IdiomsGameMgr.useGoods(1),this.hintPanel2.active=!1},i.onGoodCancelBtnClick2=function(){this.hintPanel2.active=!1},i.update=function(e){1!=h.IdiomsGameMgr.isGameOver&&(this.timer+=e,this.timer>=1&&(this.timer=0,this.refershTime(h.IdiomsGameMgr.curChallengeTime--),h.IdiomsGameMgr.curChallengeTime<=0&&h.IdiomsGameMgr.gameOver(!1)))},i.refershTime=function(e){if(e<=0)this.time.string="00 : 00";else{var t=Math.floor(e/3600),n=e-3600*t,i=Math.floor(n/60);n-=60*i;var o=(i+=60*t)+"",a=n+"";i<10&&(o="0"+i),n<10&&(a="0"+n),this.time.string=o+" : "+a}},i.refershProps=function(){for(var e=h.IdiomsGameMgr.lisProp,t=0;t<e.length;t++){var n=e[t];"文曲星"==n.NAME?(this.node.getChildByPath("Center/GoodBtn1/Sprite/Label-005").getComponent(a).string=n.num+"",this.node.getChildByPath("Center/GoodBtn1").getComponent(o).interactable=n.num>=1):"文曲令"==n.NAME&&(this.node.getChildByPath("Center/GoodBtn2/Sprite/Label-005").getComponent(a).string=n.num+"",this.node.getChildByPath("Center/GoodBtn2").getComponent(o).interactable=n.num>=1)}},i.onDestroy=function(){h.IdiomsGameMgr.idiomsGamePanel=null},n}(l))||C);n._RF.pop()}}}));

System.register("chunks:///_virtual/EveryChess.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Global.ts"],(function(t){"use strict";var e,s,i,a,o,h,l,r;return{setters:[function(t){e=t.inheritsLoose},function(t){s=t.cclegacy,i=t._decorator,a=t.Color,o=t.Button,h=t.Label,l=t.Component},function(t){r=t.Global}],execute:function(){var n;s._RF.push({},"73fa0r5k7FL1b89N8mFPnaL","EveryChess",void 0);var c=i.ccclass;i.property,t("EveryChess",c("EveryChess")(n=function(t){function s(){for(var e,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).text_NormalColor=new a,e.text_RightColor=new a,e.text_WrongColor=new a,e.whiteBg=null,e.rightBg=null,e.label=null,e.selectImg=null,e.status=0,e.mData=null,e.nData=null,e.mWordX=0,e.mWordY=0,e}e(s,t);var i=s.prototype;return i.onLoad=function(){var t;a.fromHEX(this.text_NormalColor,"#67190d"),a.fromHEX(this.text_RightColor,"#FFF1D4"),a.fromHEX(this.text_WrongColor,"#F44528"),this.whiteBg=this.node.getChildByName("填入或答错白底"),this.rightBg=this.node.getChildByName("正确绿底"),this.label=this.node.getChildByName("Label"),this.selectImg=this.node.getChildByName("SelectImg"),(null===(t=this.whiteBg)||void 0===t?void 0:t.getComponent(o)).node.on(o.EventType.CLICK,this.onBtnClick,this)},i.setStatus=function(t,e){void 0===e&&(e=null),this.status=t,0==t?(this.whiteBg.active=!1,this.rightBg.active=!1,this.label.active=!1,this.selectImg.active=!1):1==t?(this.whiteBg.active=!0,this.rightBg.active=!1,this.label.active=!0,this.selectImg.active=!1,this.mData=e,this.label.getComponent(h).string=""):2==t?(this.whiteBg.active=!1,this.rightBg.active=!1,this.label.active=!0,this.selectImg.active=!1,this.mData=e,this.label.getComponent(h).string=this.mData.value,this.label.getComponent(h).color=this.text_NormalColor):3==t?(this.whiteBg.active=!0,this.rightBg.active=!1,this.label.active=!0,this.selectImg.active=!0,this.label.getComponent(h).string=this.nData.value,this.label.getComponent(h).color=this.text_WrongColor):4==t&&(this.whiteBg.active=!1,this.rightBg.active=!0,this.label.active=!0,this.selectImg.active=!1,this.label.getComponent(h).string=this.mData.value,this.label.getComponent(h).color=this.text_RightColor)},i.onBtnClick=function(){1==this.status?this.setSelect(!0):3==this.status&&(this.setEcho(),r.AudioMgr.playFx("取消填字",2.5))},i.setEcho=function(){this.setStatus(1,this.mData),this.setSelect(!0),this.nData.everyAnswer.setEcho()},i.setSelect=function(t){var e;(void 0===t&&(t=!0),this.selectImg.active=t,r.IdiomsGameMgr.curSelectEveryChess!=this)&&(null!=r.IdiomsGameMgr.curSelectEveryChess&&(null===(e=r.IdiomsGameMgr.curSelectEveryChess)||void 0===e||e.setSelect(!1)),r.IdiomsGameMgr.curSelectEveryChess=this)},i.setValue=function(t){this.nData=t,this.mData.value==this.nData.value?(this.setStatus(4),r.IdiomsGameMgr.saveCorrectAnswer(this),this.setSelect(!1),r.IdiomsGameMgr.showNextSelect(this),r.IdiomsGameMgr.judgeIsSucceed(!0)):this.setStatus(3),r.AudioMgr.playFx("填字",10)},i.autoSetValue=function(){3==this.status&&(this.setStatus(1,this.mData),this.nData.everyAnswer.setEcho()),this.setStatus(4),r.IdiomsGameMgr.saveCorrectAnswer(this),r.IdiomsGameMgr.curSelectEveryChess==this?(this.setSelect(!1),r.IdiomsGameMgr.showNextSelect(this),r.IdiomsGameMgr.judgeIsSucceed(!0)):r.IdiomsGameMgr.judgeIsSucceed(!0),r.AudioMgr.playFx("填字",2.5)},i.getValue=function(){return this.mData.value},i.getWordXYStr=function(){return null==this.mData?"":"("+this.mData.wordX+","+this.mData.wordY+")"},i.getStatusIs1=function(){return 1==this.status},i.getStatusIs2=function(){return 2==this.status},i.getStatusIs3=function(){return 3==this.status},i.getStatusIs4=function(){return 4==this.status},i.setMWordXY=function(t,e){this.mWordX=t,this.mWordY=e},s}(l))||n);s._RF.pop()}}}));

System.register("chunks:///_virtual/CardMgr.ts",["cc","./NetMgr.ts","./Global.ts"],(function(r){"use strict";var t,s,e,a;return{setters:[function(r){t=r.cclegacy,s=r._decorator},function(r){e=r.ApiType},function(r){a=r.Global}],execute:function(){t._RF.push({},"77a32EN3BVF2YVP/xhRQqHK","CardMgr",void 0);s.ccclass,s.property,r("CardMgr",function(){function r(){this.lisSetCard=[],this.lisUserSetCard=[],this.lisCard=[],this.lisUserCard=[],this.lisUserCardFragment=[],this.lisCardFragment=[],this.setCardsShowCallback=null,this.showCardFragmentCallback=null}var t=r.prototype;return t.setCardsShow=function(r){this.setCardsShowCallback=r,a.NetMgr.httpPost(e.setCardsShow,{userId:a.UserMgr.userData.userId},this,this.onSetCardsShowSucceed,(function(){}))},t.onSetCardsShowSucceed=function(r){var t=JSON.parse(r).data;this.lisSetCard=t.setCardsList,null!=t.userSetCardsList&&null!=t.userSetCardsList&&(this.lisUserSetCard=t.userSetCardsList),this.cardsShow()},t.cardsShow=function(){a.NetMgr.httpPost(e.cardsShow,{userId:a.UserMgr.userData.userId,setCardsId:this.getSetCardObjByName().id},this,this.onCardsShowSucceed,(function(){}))},t.getSetCardObjByName=function(r){void 0===r&&(r="十二生肖");for(var t=0;t<this.lisSetCard.length;t++)if(this.lisSetCard[t].name==r&&1==this.lisSetCard[t].status)return this.lisSetCard[t];return null},t.getSetCardObjById=function(r){for(var t=0;t<this.lisSetCard.length;t++)if(this.lisSetCard[t].id==r&&1==this.lisSetCard[t].status)return this.lisSetCard[t];return null},t.getUserSetCardNumByName=function(r){void 0===r&&(r="十二生肖");for(var t=0;t<this.lisUserSetCard.length;t++){var s=this.lisUserSetCard[t];if(this.getSetCardObjById(s.setCardsId).name==r)return s.num}return 0},t.onCardsShowSucceed=function(r){var t=JSON.parse(r).data;this.lisCard=t.cardList;var s=t.userCardList;this.lisUserCard=[];for(var e=0;e<s.length;e++){var a=s[e],i=this.getCardObjById(a.cardId);null!=i&&null!=i?(i.userCard=a,this.lisUserCard.push(i)):((i={id:a.id}).userCard=a,this.lisUserCard.push(i))}this.setCardsShowCallback.succeed.call(this.setCardsShowCallback.context,"")},t.getCardObjById=function(r){for(var t=0;t<this.lisCard.length;t++){var s=this.lisCard[t];if(s.id==r)return s}return null},t.getCardObjByName=function(r){for(var t=0;t<this.lisCard.length;t++){var s=this.lisCard[t];if(s.name.indexOf(r)>=0)return s}return null},t.getUserCardObjByName=function(r){for(var t=0;t<this.lisUserCard.length;t++){var s=this.lisUserCard[t];if(s.name.indexOf(r)>=0)return s}return null},t.getUserCardObjById=function(r){for(var t=0;t<this.lisUserCard.length;t++){var s=this.lisUserCard[t];if(s.id==r)return s}return null},t.showCardFragment=function(r,t){var s=this;this.showCardFragmentCallback=t,a.NetMgr.httpPost(e.cardFragmentShow,{userId:a.UserMgr.userData.userId,cardId:r},this,(function(t){var e=JSON.parse(t).data;s.lisUserCardFragment=e.userCardFragmentList,s.lisCardFragment=[],s.lisCardFragment.push({id:r,lisFragment:e.cardFragmentList}),s.showCardFragmentCallback.succeed.call(s.showCardFragmentCallback.context,"")}),(function(){}))},t.getListFragmentById=function(r){for(var t=[],s=0;s<this.lisCardFragment.length;s++){var e=this.lisCardFragment[s];if(e.id==r)for(var a=0;a<e.lisFragment.length;a++){var i=e.lisFragment[a],n=this.getUserFragmentById(i.id);null!=n&&(i.userCardFragment=n),t.push(i)}}return t},t.getUserFragmentById=function(r){for(var t=0;t<this.lisUserCardFragment.length;t++){var s=this.lisUserCardFragment[t];if(s.fragmentsId==r)return s}return null},r}());t._RF.pop()}}}));

System.register("chunks:///_virtual/LoginPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NetMgr.ts","./Global.ts"],(function(t){"use strict";var i,n,o,e,s,l,r,a,h,d;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,e=t.EditBox,s=t.Button,l=t.Label,r=t.director,a=t.Component},function(t){h=t.ApiType},function(t){d=t.Global}],execute:function(){var c;n._RF.push({},"7ac7dD4UjJHp4T+4seVANT3","LoginPanel",void 0);var g=o.ccclass;o.property,t("LoginPanel",g("LoginPanel")(c=function(t){function n(){for(var i,n=arguments.length,o=new Array(n),e=0;e<n;e++)o[e]=arguments[e];return(i=t.call.apply(t,[this].concat(o))||this).accountEditBox=null,i.passwordEditBox=null,i.loginBtn=null,i.forgetBtn=null,i.hintLabel=null,i.isStartLogin=!1,i.isLogined=!1,i.timeoutId=0,i}i(n,t);var o=n.prototype;return o.start=function(){this.accountEditBox=this.node.getChildByName("AccountEditBox").getComponent(e),this.passwordEditBox=this.node.getChildByName("PasswordEditBox").getComponent(e),this.loginBtn=this.node.getChildByName("LoginBtn").getComponent(s),this.forgetBtn=this.node.getChildByName("ForgetBtn").getChildByName("Button").getComponent(s),this.hintLabel=this.node.getChildByName("HintLabel").getComponent(l),this.loginBtn.node.on(s.EventType.CLICK,this.onLoginBtnClick,this),this.forgetBtn.node.on(s.EventType.CLICK,this.onForgetBtnClick,this),this.hintLabel.string="",d.AudioMgr.playMusic("主界面背景音乐")},o.onLoginBtnClick=function(t){var i,n,o,e,s,l;console.log("onLoginBtnClick"),null!=(null===(i=this.accountEditBox)||void 0===i?void 0:i.string)&&""!=(null===(n=this.accountEditBox)||void 0===n?void 0:n.string)?null!=(null===(o=this.passwordEditBox)||void 0===o?void 0:o.string)&&""!=(null===(e=this.passwordEditBox)||void 0===e?void 0:e.string)?(this.showHint("登录中...",-1),this.isStartLogin=!0,d.NetMgr.httpPost(h.login,{userName:null===(s=this.accountEditBox)||void 0===s?void 0:s.string,password:null===(l=this.passwordEditBox)||void 0===l?void 0:l.string},this,this.onLoginSucceed,this.onLoginFailed)):this.showHint("请输入密码！",3e3):this.showHint("请输入账号！",3e3)},o.onLoginSucceed=function(t){this.isStartLogin=!1;var i=JSON.parse(t);if(0==i.code)return this.showHint("登录成功！",-1),d.UserMgr.setUserData(i.data),void setTimeout((function(){r.loadScene("main")}),0);this.showHint(i.msg,-1)},o.onLoginFailed=function(t){console.log("登录失败!httpRequest:"+JSON.stringify(t)),this.isStartLogin=!1;var i="登录失败："+t.response;0==t.status&&(i="登录失败：连接超时！"),this.showHint(i,-1)},o.onForgetBtnClick=function(t){console.log("onForgetBtnClick")},o.showHint=function(t,i){var n=this;clearTimeout(this.timeoutId),this.hintLabel.string=t,i>0&&(this.timeoutId=setTimeout((function(){n.hintLabel.string=""}),i))},n}(a))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/GoodsMgr.ts",["cc","./NetMgr.ts","./Global.ts"],(function(e){"use strict";var t,r,n,a;return{setters:[function(e){t=e.cclegacy,r=e._decorator},function(e){n=e.ApiType},function(e){a=e.Global}],execute:function(){t._RF.push({},"803c8yddPJPYo6vEHkB0qh9","GoodsMgr",void 0);r.ccclass,r.property,e("GoodsMgr",function(){function e(){this.userPowerMedicamentCallback=null}var t=e.prototype;return t.openReward=function(e){a.NetMgr.httpPost(n.openReward,{userId:a.UserMgr.userData.userId,type:e+"",deptCode:a.UserMgr.userData.deptCode},this,this.onOpenRewardSucceed,(function(){}))},t.onOpenRewardSucceed=function(e){var t,r=null!==(t=JSON.parse(e).data.goodsList)&&void 0!==t?t:[];if(r.length>0){var n="获得了："+this.getHintStr(r);console.log(n),a.HintMgr.showHintLabel(n)}},t.getHintStr=function(e){for(var t="",r=0;r<e.length;r++){var n=e[r];t+=n.name+"*"+n.num,r<e.length-1&&(t+="、")}return t},t.userPowerMedicament=function(e){this.userPowerMedicamentCallback=e,a.NetMgr.httpPost(n.userPowerMedicament,{userId:a.UserMgr.userData.userId},this,this.onUserPowerMedicamentSucceed,(function(){}))},t.onUserPowerMedicamentSucceed=function(e){var t=JSON.parse(e);0==t.code?(a.UserMgr.userData.stamina=t.data.stamina,a.HintMgr.showHintLabel("使用了体力药剂*1"),this.userPowerMedicamentCallback.succeed.call(this.userPowerMedicamentCallback.context,t.data.stamina)):(a.HintMgr.showHintLabel(t.msg),this.userPowerMedicamentCallback.failed.call(this.userPowerMedicamentCallback.context,t.msg))},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/MedalMgr.ts",["cc","./NetMgr.ts","./Global.ts"],(function(e){"use strict";var t,s,l,a;return{setters:[function(e){t=e.cclegacy,s=e._decorator},function(e){l=e.ApiType},function(e){a=e.Global}],execute:function(){t._RF.push({},"8f1a48sxUtJkILeoizOOf80","MedalMgr",void 0);s.ccclass,s.property,e("MedalMgr",function(){function e(){this.lisMedal=[],this.lisUserMedal=[],this.lisNewestUserMedal=[],this.getMedalCallback=null}var t=e.prototype;return t.getMedal=function(e){this.getMedalCallback=e,this.lisMedal.length>0?this.getUserMedal():a.NetMgr.httpPost(l.getMedal,{},this,this.onGetMedalSucceed,(function(){}))},t.onGetMedalSucceed=function(e){var t=JSON.parse(e);0==t.code&&"success"==t.msg&&(this.lisMedal=t.data,this.getUserMedal())},t.getUserMedal=function(){a.NetMgr.httpPost(l.getUserMedal,{userId:a.UserMgr.userData.userId},this,this.onGetUserMedalSucceed,(function(){}))},t.onGetUserMedalSucceed=function(e){var t,s,l=JSON.parse(e);0==l.code&&"success"==l.msg&&(this.lisUserMedal=null!==(t=l.data.historyList)&&void 0!==t?t:[],this.lisNewestUserMedal=null!==(s=l.data.newest)&&void 0!==s?s:[],this.getMedalCallback.succeed.call(this.getMedalCallback.context,""))},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ShotOverPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Global.ts"],(function(e){"use strict";var t,n,i,o,a,c,s,l;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,o=e.Button,a=e.tween,c=e.Vec3,s=e.Component},function(e){l=e.Global}],execute:function(){var r;n._RF.push({},"a1301CGwbpMXIW4ayK/ygLC","ShotOverPanel",void 0);var u=i.ccclass;i.property,e("ShotOverPanel",u("ShotOverPanel")(r=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).succeedImg=null,t.failedImg=null,t}t(n,e);var i=n.prototype;return i.onLoad=function(){this.succeedImg=this.node.getChildByPath("Main/SucceedImg"),this.failedImg=this.node.getChildByPath("Main/FailedImg")},i.start=function(){this.node.getChildByPath("Main/OkBtn").on(o.EventType.CLICK,this.onOkBtnClick,this)},i.gameOver=function(){var e;this.succeedImg.active=l.ShotGameMgr.isGameSucceed,this.failedImg.active=!l.ShotGameMgr.isGameSucceed,null===(e=this.node.getChildByName("Main"))||void 0===e||e.setPosition(0,3e3,0),a(this.node.getChildByName("Main")).to(.3,{position:new c(-4.006,47.79,0)},{easing:"backOut"}).start()},i.onOkBtnClick=function(){l.jumpToGuozijian(1)},n}(s))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/ChildScrollView.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,i,r,c,n,l;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator,r=t.Vec2,c=t.EventTouch,n=t.Node,l=t.ScrollView}],execute:function(){var s;o._RF.push({},"a5fb989DOdEIqhAlkKJ7YY2","ChildScrollView",void 0);var h=i.ccclass;i.property,t("ChildScrollView",h("ChildScrollView")(s=function(t){function o(){for(var e,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).m_OuterScrollView=null,e}e(o,t);var i=o.prototype;return i.setOuterScrollView=function(t){this.m_OuterScrollView=t},i._onTouchMoved=function(t,e){var o;if(this.enabledInHierarchy&&!this._hasNestedViewGroup(t,e)){var i=t.touch,l=new r;r.subtract(l,i.getLocation(),i.getStartLocation());t.touch;if((null===(o=this.m_OuterScrollView)||void 0===o?void 0:o.isDifferentBetweenSettingAndPlan(this))||this._handleMoveLogic(t.touch),this.cancelInnerEvents){if(l.length()>7&&!this._touchMoved&&t.target!==this.node){var s=new c(t.getTouches(),!0,n.EventType.TOUCH_CANCEL);s.type=n.EventType.TOUCH_CANCEL,s.touch=t.touch,s.simulate=!0,t.target.dispatchEvent(s),this._touchMoved=!0}this._stopPropagationIfTargetIsMe(t)}}},o}(l))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/ShotStartPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NetMgr.ts","./Global.ts"],(function(t){"use strict";var e,o,n,i,a,r,l,s,h,c,d,g,u;return{setters:[function(t){e=t.inheritsLoose,o=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy,i=t._decorator,a=t.Button,r=t.EventHandler,l=t.ToggleContainer,s=t.EditBox,h=t.Label,c=t.Component,d=t.instantiate},function(t){g=t.ApiType},function(t){u=t.Global}],execute:function(){var B;n._RF.push({},"afca4wYl9FI3JVDupz7Bc9F","ShotStartPanel",void 0);var C=i.ccclass;i.property,t("ShotStartPanel",C("ShotStartPanel")(B=function(t){function n(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).container1=null,e.container2=null,e.inputField=null,e.scrollView=null,e.content=null,e.prefab=null,e.lisOrigin=[],e.lisGrade=[],e.originId=-1,e.gradeId=-1,e.lisBook=[],e}e(n,t);var i=n.prototype;return i.start=function(){this.node.getChildByPath("ReturnBtn/Btn").getComponent(a).node.on(a.EventType.CLICK,this.onCloseBtnClick,this),u.ShotGameMgr.getShootRule(),u.NetMgr.httpPost(g.getBookOrigin,{},this,this.onGetBookOriginSucceed,(function(){})),u.NetMgr.httpPost(g.getBookGrade,{},this,this.onGetBookGradeSucceed,(function(){}));var t=new r;t.target=this.node,t.component="ShotStartPanel",t.handler="onChoose1Callback",t.customEventData="foobar",this.container1=this.node.getChildByPath("Content/Choose1").getComponent(l),this.container1.checkEvents.push(t);var e=new r;e.target=this.node,e.component="ShotStartPanel",e.handler="onChoose2Callback",e.customEventData="foobar",this.container2=this.node.getChildByPath("Content/Choose2").getComponent(l),this.container2.checkEvents.push(e),this.inputField=this.node.getChildByPath("Content/EditBox").getComponent(s),this.node.getChildByPath("Content/SearchBtn").getComponent(a).node.on(a.EventType.CLICK,this.onSearchBtnClick,this),this.scrollView=this.node.getChildByPath("ScrollView"),this.content=this.scrollView.getChildByPath("view/content"),this.prefab=this.content.getChildByName("item"),this.prefab.active=!1,this.onSearchBtnClick()},i.onGetBookOriginSucceed=function(t){this.lisOrigin=JSON.parse(t).data},i.onGetBookGradeSucceed=function(t){this.lisGrade=JSON.parse(t).data},i.onChoose1Callback=function(t,e){var n,i,a=null===(n=t.target.getChildByName("Label"))||void 0===n||null===(i=n.getComponent(h))||void 0===i?void 0:i.string;console.log("点击了："+a);for(var r,l=o(this.lisOrigin);!(r=l()).done;){var s=r.value;s.originName==a&&(this.originId=s.origin)}},i.onChoose2Callback=function(t,e){var n,i,a=null===(n=t.target.getChildByName("Label"))||void 0===n||null===(i=n.getComponent(h))||void 0===i?void 0:i.string;console.log("点击了："+a);for(var r,l=o(this.lisGrade);!(r=l()).done;){var s=r.value;s.gradeName==a&&(this.gradeId=s.grade)}},i.onSearchBtnClick=function(){var t,e;0==(null===(t=this.container1)||void 0===t?void 0:t.anyTogglesChecked())&&(this.originId=-1),0==(null===(e=this.container2)||void 0===e?void 0:e.anyTogglesChecked())&&(this.gradeId=-1);var o={};-1!=this.originId&&(o.origin=this.originId),-1!=this.gradeId&&(o.grade=this.gradeId),""!=this.inputField.string&&null!=this.inputField.string&&(o.keyword=this.inputField.string),o.current=0,o.size=10,u.NetMgr.httpPost(g.getBookList,o,this,this.onGetBookListSucceed,(function(){}))},i.onGetBookListSucceed=function(t){var e;this.lisBook=null!==(e=JSON.parse(t).data)&&void 0!==e?e:[],this.refershBookScrollView()},i.getBookObjById=function(t){for(var e=0;e<this.lisBook.length;e++)if(this.lisBook[e].bookID==t)return this.lisBook[e];return null},i.refershBookScrollView=function(){for(var t,e=this,n=o(this.content.children);!(t=n()).done;){var i=t.value;i!=this.prefab&&i.destroy()}for(var r=function(t){var o=d(e.prefab);null==o||o.setParent(e.content),o.active=!0,o.name=e.lisBook[t].bookID+"",o.getChildByPath("Label").getComponent(h).string=e.lisBook[t].bookName,u.NetMgr.loadImgByUrl(o.getChildByName("BookImg"),e.lisBook[t].bookCover),o.getChildByName("StartGameBtn").getComponent(a).node.on(a.EventType.CLICK,e.onStartGameBtnClick,e);var n={userId:u.UserMgr.userData.userId,bookId:e.lisBook[t].bookID};u.NetMgr.httpPost(g.getBookListByUserId,n,e,(function(n){var i=JSON.parse(n).data;if(null!=i)if(0==i.status){var r={userId:u.UserMgr.userData.userId,bookId:e.lisBook[t].bookID};u.NetMgr.httpPost(g.getChallengeNumByUserId,r,e,(function(t){var e=JSON.parse(t).data;null!=e&&(e.num>=u.ShotGameMgr.challengeNum?(o.getChildByName("Label-001").active=!0,o.getChildByName("Label-001").getComponent(h).string="今日已挑战"+e.num+"次，当前无法继续挑战",o.getChildByName("StartGameBtn").getComponent(a).interactable=!1):(o.getChildByName("Label-001").active=!0,o.getChildByName("Label-001").getComponent(h).string="今日已挑战"+e.num+"次",o.getChildByName("StartGameBtn").getComponent(a).interactable=!0))}),(function(){}))}else o.getChildByName("Label-001").active=!0,o.getChildByName("StartGameBtn").getComponent(a).interactable=!1}),(function(){}))},l=0;l<this.lisBook.length;l++)r(l)},i.onCloseBtnClick=function(){u.jumpToScene("guozijian")},i.onStartGameBtnClick=function(t){var e,o=null===(e=t.target.parent)||void 0===e?void 0:e.name;console.log("开始挑战："+o);var n=this.getBookObjById(o);u.NetMgr.httpPost(g.getTopicById,{bookId:o},this,(function(t){u.ShotGameMgr.startGame(JSON.parse(t).data,n)}),(function(){}))},n}(c))||B);n._RF.pop()}}}));

System.register("chunks:///_virtual/UserMgr.ts",["cc","./NetMgr.ts","./Global.ts"],(function(e){"use strict";var t,s,a,i;return{setters:[function(e){t=e.cclegacy,s=e._decorator},function(e){a=e.ApiType},function(e){i=e.Global}],execute:function(){t._RF.push({},"b4758Z0pm1A84J8y98XLiXX","UserMgr",void 0);s.ccclass,s.property,e("UserMgr",function(){function e(){this.userData=new r,this.lisLevel=[],this.getLevelConfigCallback=null,this.setUserData(JSON.parse('{"userId":35520,"userName":"wkstu001","nickName":"刘冒欣","sex":1,"schoolName":"沃科学院","deptCode":"20501","gradeYear":2018,"grade":4,"classes":4,"classCode":"205010104","petName":"东邪1","level":1,"experience":5000,"joinNum":0,"passNum":0,"passRate":0.0,"medalNum":0,"headPortrait":"uploads/avatar/boy-avatar.png","portrait":"uploads/avatar/boy-full_body_portrait.png","stamina":10,"usageTime":"2021-10-14 16:14:07","upperLimitOfStamina":10,"emsbname":"沃科教育局","emsbcode":"205"}'))}var t=e.prototype;return t.setUserData=function(e){this.userData.userId=e.userId,this.userData.userName=e.userName,this.userData.nickName=e.nickName,this.userData.sex=e.sex,this.userData.schoolName=e.schoolName,this.userData.deptCode=e.deptCode,this.userData.gradeYear=e.gradeYear,this.userData.grade=this.getGradeStr(e.grade),this.userData.classes=e.classes,this.userData.classCode=e.classCode,this.userData.petName=e.petName,this.userData.level=e.level,this.userData.experience=e.experience,this.userData.joinNum=e.joinNum,this.userData.passNum=e.passNum,this.userData.passRate=e.passRate,this.userData.medalNum=e.medalNum,this.userData.headPortrait=e.headPortrait,this.userData.portrait=e.portrait,this.userData.stamina=e.stamina,this.userData.usageTime=e.usageTime,this.userData.upperLimitOfStamina=e.upperLimitOfStamina,this.userData.emsbcode=e.emsbcode,this.userData.emsbname=e.emsbname},t.getLevelConfig=function(e){var t=this;this.getLevelConfigCallback=e,null!=this.lisLevel&&this.lisLevel.length>0&&this.getLevelConfigCallback.succeed.call(this.getLevelConfigCallback.context,""),i.NetMgr.httpPost(a.getLevel,{},this,(function(e){var s=JSON.parse(e);0==s.code&&(t.lisLevel=s.data,t.getLevelConfigCallback.succeed.call(t.getLevelConfigCallback.context,""))}),(function(){}))},t.getCurLevelSetpObj=function(e){void 0===e&&(e=this.userData.experience);for(var t=null,s=0;s<this.lisLevel.length;s++){var a=this.lisLevel[s];e>=a.minExperience&&(t=a)}return t},t.getMaxLevelStepObj=function(){for(var e=null,t=0;t<this.lisLevel.length;t++){var s=this.lisLevel[t];(null==e||s.minExperience>=e.minExperience)&&(e=s)}return e},t.getGradeStr=function(e){return 1?"一年级":1?"二年级":1?"三年级":1?"四年级":1?"五年级":1?"六年级":1?"初一":1?"初二":1?"初三":1?"高一":1?"高二":1?"高三":""},t.loginOut=function(){this.userData=new r,i.NetMgr.httpPost(a.loginout,{userId:i.UserMgr.userData.userId},this,(function(){}),(function(){}))},e}());var r=e("UserData",(function(){this.userId=0,this.userName="",this.nickName="",this.sex=0,this.schoolName="",this.deptCode="",this.gradeYear=0,this.grade="",this.classes=0,this.classCode="",this.petName="",this.level=0,this.experience=0,this.joinNum=0,this.passNum=0,this.passRate=0,this.medalNum=0,this.headPortrait="",this.portrait="",this.stamina=0,this.usageTime=new Date,this.upperLimitOfStamina=0,this.emsbcode="",this.emsbname=""}));t._RF.pop()}}}));

System.register("chunks:///_virtual/HintMgr.ts",["cc"],(function(t){"use strict";var e,n,a,i,r,s,o,c,l;return{setters:[function(t){e=t.cclegacy,n=t._decorator,a=t.instantiate,i=t.Label,r=t.find,s=t.tween,o=t.Vec3,c=t.resources,l=t.Prefab}],execute:function(){e._RF.push({},"b5894yuvY1BIKOY+J3bAy9n","HintMgr",void 0);n.ccclass,n.property,t("HintMgr",function(){function t(){this.hintLabelPrefab=null}var e=t.prototype;return e.showHintLabel=function(t){var e=this;this.loadHintLabelPrefab((function(){var n=a(e.hintLabelPrefab);n.active=!0,n.getComponent(i).string=t,n.setParent(r("Canvas")),n.setPosition(0,0,0),n.setScale(0,0,0),s(n).to(.3,{scale:new o(1,1,1)},{easing:"backOut"}).start(),s(n).delay(1.8).to(1.1,{position:new o(0,3e3,0)}).start()}))},e.loadHintLabelPrefab=function(t){var e=this;null==this.hintLabelPrefab?c.load("prefabs/HintLabel",l,(function(n,a){e.hintLabelPrefab=a,t()})):t()},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/CardComposePanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NetMgr.ts","./Global.ts","./CardPanel.ts"],(function(e){"use strict";var t,n,a,i,o,r,s,l,h,m,d;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,a=e._decorator,i=e.Button,o=e.Label,r=e.instantiate,s=e.Vec3,l=e.Component},function(e){h=e.ApiType},function(e){m=e.Global},function(e){d=e.CardPanel}],execute:function(){var g;n._RF.push({},"bf048nAldJBg4ORqvldebDk","CardComposePanel",void 0);var c=a.ccclass;a.property,e("CardComposePanel",c("CardComposePanel")(g=function(e){function n(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).confirmPanel=null,t.card=null,t.mData=null,t.mName="",t.numPrefab=null,t.lisFragment=[],t.role=null,t}t(n,e);var a=n.prototype;return a.onLoad=function(){var e,t,n,a,o,r,s,l,h,m;this.numPrefab=this.node.getChildByName("numPrefab"),this.confirmPanel=this.node.getChildByName("ConfirmPanel"),this.confirmPanel.active=!1,null===(e=this.confirmPanel)||void 0===e||null===(t=e.getChildByName("OK"))||void 0===t||null===(n=t.getComponent(i))||void 0===n||n.node.on(i.EventType.CLICK,this.onComposeOKBtnClick,this),null===(a=this.confirmPanel)||void 0===a||null===(o=a.getChildByName("Cancel"))||void 0===o||null===(r=o.getComponent(i))||void 0===r||r.node.on(i.EventType.CLICK,this.onComposeCancelBtnClick,this),null===(s=this.node.getChildByPath("ReturnBtn/Btn"))||void 0===s||null===(l=s.getComponent(i))||void 0===l||l.node.on(i.EventType.CLICK,this.onCloseBtnClick,this),null===(h=this.node.getChildByName("ComposeBtn_Active"))||void 0===h||null===(m=h.getComponent(i))||void 0===m||m.node.on(i.EventType.CLICK,this.onComposeBtnClick,this),this.lisFragment.push(this.node.getChildByName("Fragment3")),this.lisFragment.push(this.node.getChildByName("Fragment4")),this.lisFragment.push(this.node.getChildByName("Fragment5")),this.lisFragment.push(this.node.getChildByName("Fragment8")),this.lisFragment.push(this.node.getChildByName("Fragment9"))},a.onCloseBtnClick=function(){var e;this.node.active=!1,this.node.parent.getChildByName("CardPanel").active=!0,null===(e=this.node.parent.getChildByName("CardPanel").getComponent(d))||void 0===e||e.setCardsShow()},a.onComposeBtnClick=function(){this.confirmPanel.active=!0,this.confirmPanel.getChildByPath("Label").getComponent(o).string="是否合成“"+this.mName+"”碎片？"},a.onComposeOKBtnClick=function(){var e=this;this.confirmPanel.active=!1,m.AudioMgr.playFx("合成"),m.NetMgr.httpPost(h.synthesis,{userId:m.UserMgr.userData.userId,syntheticTargetId:m.CardMgr.getCardObjByName(this.mName).id,syntheticTargetType:0},this,(function(t){var n=JSON.parse(t);m.HintMgr.showHintLabel(n.data.message),0==n.code&&"success"==n.msg&&null!=n.data&&n.data.message.indexOf("成功")>=0&&e.showCardFragment()}),(function(){}))},a.onComposeCancelBtnClick=function(){this.confirmPanel.active=!1},a.show=function(e){this.mData=null,this.mName=e,this.card=m.CardMgr.getCardObjByName(e);for(var t=0;t<this.lisFragment.length;t++){var n=this.lisFragment[t];(null==n?void 0:n.name.substring(n.name.length-1,n.name.length))==this.card.fragmentsNum+""?(n.active=!0,this.role=n):n.active=!1}for(var a=0;a<this.role.children.length;a++){var i=this.role.children[a];i.getChildByName("碎片空-灰").active=!0,i.getChildByName("Label").getComponent(o).string=this.mName}this.showCardFragment()},a.showCardFragment=function(){var e=this;m.CardMgr.showCardFragment(this.card.id,{context:this,succeed:function(){e.mData=m.CardMgr.getListFragmentById(e.card.id),console.log(e.mData),e.refersh()},failed:function(){}})},a.refersh=function(){for(var e=0;e<this.role.children.length;e++){var t=this.role.children[e],n=null;null==(n=t.getChildByName("num"))&&((n=r(this.numPrefab)).setParent(t),n.active=!0,n.setPosition(new s(115,190.589,0)));var a=this.getOneMData(e);null!=a.userCardFragment?t.getChildByName("碎片空-灰").active=!1:t.getChildByName("碎片空-灰").active=!0,t.getChildByName("Label-001").getComponent(o).string=a.name,t.getChildByName("Label").getComponent(o).string=this.mName,n.getChildByName("Num").getComponent(o).string=null==a.userCardFragment?"0":a.userCardFragment.num}},a.getOneMData=function(e){for(var t=0;t<this.mData.length;t++){var n=this.mData[t];if(n.name.substring(n.name.length-1,n.name.length)==e+1+"")return n}},n}(l))||g);n._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollViewCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,i,o,r,s,l,a,c,h,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,l=t.Node,a=t.ScrollView,c=t.UITransform,h=t.LayoutComponent,d=t.Component}],execute:function(){var u,p,g,f,m,P,y;r._RF.push({},"bf545vK3RdOaZnjI8plglGB","ScrollViewCtrl",void 0);var b=s.ccclass,w=s.property;t("ScrollViewCtrl",(u=b("ScrollViewCtrl"),p=w(l),u((m=e((f=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"prefab",m,o(e)),i(e,"itemNum",P,o(e)),i(e,"screenItemNum",y,o(e)),e.scrollView=null,e.content=null,e.firstPadder=null,e.lastPadder=null,e.contentHeight=0,e.screenContentHeight=0,e.contentLayout=null,e}n(e,t);var r=e.prototype;return r.start=function(){this.scrollView=this.node.getComponent(a),this.content=this.scrollView.content,this.firstPadder=new l("FirstPadder").addComponent(c),this.lastPadder=new l("LastPadder").addComponent(c),this.firstPadder.node.setParent(this.content),this.firstPadder.node.setSiblingIndex(0),this.lastPadder.node.setParent(this.content),this.lastPadder.node.setSiblingIndex(this.content.children.length-1),this.contentLayout=this.content.getComponent(h),this.contentHeight=this.prefab.getComponent(c).height*this.itemNum+this.contentLayout.paddingTop+this.contentLayout.paddingBottom+this.contentLayout.spacingY*this.itemNum,this.screenContentHeight=(this.contentLayout.spacingY+this.prefab.getComponent(c).height)*this.itemNum,console.log(this.contentHeight),this.setPadderHeight()},r.setPadderHeight=function(){console.log(this.scrollView.getScrollOffset()+" "+this.scrollView.getMaxScrollOffset()),this.firstPadder.height=0,this.lastPadder.height=this.contentHeight-this.screenContentHeight-this.firstPadder.height},r.update=function(t){},e}(d)).prototype,"prefab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(f.prototype,"itemNum",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=e(f.prototype,"screenItemNum",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=f))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/EveryDuck.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,o,s,e,n,a,h,r,d,l;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,s=t._decorator,e=t.Vec3,n=t.Animation,a=t.UITransform,h=t.randomRange,r=t.randomRangeInt,d=t.Quat,l=t.Component}],execute:function(){var u;o._RF.push({},"c1eeabFl2xLs7iSiKilJ7/u","EveryDuck",void 0);var c=s.ccclass;s.property,t("EveryDuck",c("EveryDuck")(u=function(t){function o(){for(var i,o=arguments.length,s=new Array(o),n=0;n<o;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this).anim=null,i.status="",i.leftBoard=null,i.rightBoard=null,i.startPoint=new e,i.endPoint=new e,i.normalize=new e,i.speed=0,i.canMove=!1,i.timeOutId=0,i.hp=100,i}i(o,t);var s=o.prototype;return s.onLoad=function(){this.anim=this.node.getChildByName("Role").getComponent(n)},s.setBoard=function(t,i){this.leftBoard=t,this.rightBoard=i},s.startFly=function(){var t=this.leftBoard.getComponent(a).width/2,i=this.leftBoard.getComponent(a).height/2,o=h(this.leftBoard.position.x-t,this.leftBoard.position.x+t),s=h(this.leftBoard.position.y-i,this.leftBoard.position.y+i),n=h(this.rightBoard.position.x-t,this.rightBoard.position.x+t),d=h(this.rightBoard.position.y-i,this.rightBoard.position.y+i),l=r(0,2);0==l?(this.startPoint=new e(o,s),this.endPoint=new e(n,d)):1==l&&(this.startPoint=new e(n,d),this.endPoint=new e(o,s)),this.speed=h(.25,.4),this.canMove=!0,e.subtract(this.normalize,this.endPoint,this.startPoint),this.node.setPosition(this.startPoint.x,this.startPoint.y),this.setStatus("fly")},s.setStatus=function(t){var i=this;if(this.status=t,"fly"==t){var o,s,e=new d;if(Math.abs(this.startPoint.y-this.endPoint.y)>=this.leftBoard.getComponent(a).height/2)null===(o=this.anim)||void 0===o||o.play("fly2"),this.node.setScale(1.3,1.3,1.3),d.fromEuler(e,0,this.startPoint.x<0?180:0,this.startPoint.y>this.endPoint.y?90:0);else null===(s=this.anim)||void 0===s||s.play("fly1"),this.node.setScale(1,1,1),d.fromEuler(e,0,this.startPoint.x<0?0:180,0);this.node.setRotation(e)}else if("shoted"==t){var n;null===(n=this.anim)||void 0===n||n.play("shoted"),this.node.setScale(1,1,1),setTimeout((function(){i.drop()}),.3)}else if("drop"==t){var h;null===(h=this.anim)||void 0===h||h.play("drop"),this.node.setRotation(0,0,0,0)}},s.update=function(t){var i=this;if("fly"==this.status){if(0==this.canMove)return;this.node.setPosition(this.node.position.x+this.normalize.x*t*this.speed,this.node.position.y+this.normalize.y*t*this.speed);var o=new e;e.subtract(o,this.node.position,this.endPoint).length()<30&&(this.canMove=!1,this.timeOutId=setTimeout((function(){i.startFly()}),h(3e3,5e3)))}else if("drop"==this.status){if(0==this.canMove)return;this.node.setPosition(this.node.position.x,this.node.position.y-1e3*t);new e;this.node.position.y<=-3e3&&(this.canMove=!1)}},s.shoted=function(){clearTimeout(this.timeOutId),this.canMove=!1,this.hp=0,this.setStatus("shoted")},s.drop=function(){this.canMove=!0,this.setStatus("drop")},s.getIsDied=function(){return this.hp<=0},s.onDestroy=function(){clearTimeout(this.timeOutId)},o}(l))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/MedalPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Global.ts"],(function(e){"use strict";var t,n,l,o,i,r,a,c,s;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose},function(e){l=e.cclegacy,o=e._decorator,i=e.Button,r=e.instantiate,a=e.ScrollView,c=e.Component},function(e){s=e.Global}],execute:function(){var d;l._RF.push({},"c773fFw+VxATIncbScqSSt2","MedalPanel",void 0);var h=o.ccclass;o.property,e("MedalPanel",h("MedalPanel")(d=function(e){function l(){for(var t,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(t=e.call.apply(e,[this].concat(l))||this).bigContent=null,t.recentPrefab=null,t.recentContent=null,t}t(l,e);var o=l.prototype;return o.start=function(){var e,t,n,l,o=this;null===(e=this.node.getChildByName("CloseBtn"))||void 0===e||null===(t=e.getComponent(i))||void 0===t||t.node.on(i.EventType.CLICK,this.onCloseBtnClick,this),null===(n=this.node.getChildByPath("ReturnBtn/Btn"))||void 0===n||null===(l=n.getComponent(i))||void 0===l||l.node.on(i.EventType.CLICK,this.onCloseBtnClick,this),this.bigContent=this.node.getChildByPath("ScrollView/view/content"),this.recentContent=this.bigContent.getChildByPath("Recent/ScrollView/view/content"),this.recentPrefab=this.recentContent.getChildByName("item"),this.recentPrefab.active=!1,s.MedalMgr.getMedal({context:this,succeed:function(){o.onGetMedalSucceed()}})},o.onGetMedalSucceed=function(){for(var e,t=0;t<s.MedalMgr.lisNewestUserMedal.length;t++){var n=s.MedalMgr.lisNewestUserMedal[t],l=r(this.recentPrefab);l.setParent(this.recentContent),l.active=!0,s.NetMgr.loadImgByUrl(l,s.NetMgr.baseurl+"/"+n.image)}null===(e=this.bigContent.getChildByPath("Recent/ScrollView").getComponent(a))||void 0===e||e.scrollToPercentHorizontal(0,0,!0);for(var o=0;o<s.MedalMgr.lisUserMedal.length;o++){var i,c=s.MedalMgr.lisUserMedal[o];null!=c.detail&&this.setTypeRole(null===(i=this.bigContent.getChildByName(c.detail))||void 0===i?void 0:i.getChildByPath("ScrollView/view/content"),c)}},o.setTypeRole=function(e,t){for(var l=0;l<e.children.length;l++){var o=e.children[l];if(t.name.indexOf(o.name)>=0){for(var i,r=n(o.children);!(i=r()).done;){var a=i.value;a.active=t.name[t.name.length-1]==a.name[a.name.length-1]}break}}},o.onGetUserMedalSucceed=function(e){},o.onGetConditionSucceed=function(e){},o.onCloseBtnClick=function(){s.jumpToScene("qintianjian")},l}(c))||d);l._RF.pop()}}}));

System.register("chunks:///_virtual/IdiomsGameMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NetMgr.ts","./IdiomsOverPanel.ts","./Global.ts"],(function(e){"use strict";var t,s,i,r,n,l,o,a,u;return{setters:[function(e){t=e.createClass},function(e){s=e.cclegacy,i=e._decorator,r=e.random,n=e.director,l=e.randomRangeInt},function(e){o=e.ApiType},function(e){a=e.IdiomsOverPanel},function(e){u=e.Global}],execute:function(){s._RF.push({},"cc537NhaCBNCqb20VCeGR9b","IdiomsGameMgr",void 0);i.ccclass,i.property,e("IdiomsGameMgr",function(){function e(){this.challengeTime=120,this.isGetChallengeTime=!1,this.getLevelConfigCallback=null,this._curLevelConfig=null,this.curSelectEveryChess=null,this.lisEveryChess=[],this.lisEveryAnswer=[],this._idiomsGamePanel=null,this.isGameSucceed=!1,this.isGameOver=!1,this.curChallengeTime=30,this.lisProp=[],this.lisUseProp=[],this.curLevelStartTime=new Date,this.curLevelEndTime=new Date,this.lisCorrectAnswer=[],this.getPropsCallback=null}var s=e.prototype;return s.getData=function(e,t){for(var s=0;s<this.curLevelConfig.questionList.length;s++)if(this.curLevelConfig.questionList[s].wordX==e&&this.curLevelConfig.questionList[s].wordY==t)return this.curLevelConfig.questionList[s];return null},s.getIdiomRule=function(){var e=this;0==this.isGetChallengeTime&&u.NetMgr.httpPost(o.getIdiomRule,{deptCode:u.UserMgr.userData.deptCode},this,(function(t){var s=JSON.parse(t).data;null!=s&&null!=s&&(e.challengeTime=4*s.challengeTime,e.isGetChallengeTime=!0)}),(function(){}))},s.getLevelConfig=function(e,t){this.getLevelConfigCallback=t,u.NetMgr.httpPost(o.getTopic,{userId:u.UserMgr.userData.userId,checkpoint:e+""},this,this.onGetLevelConfigSucceed,this.onGetLevelConfigFailed)},s.onGetLevelConfigSucceed=function(e){var t=JSON.parse(e).data;if(null!=t&&null!=t){t.answerList=t.confuse.split(","),t.questionList=[];for(var s=0;s<t.details.length;s++){var i=t.details[s];t.questionList.push({value:i.word,wordX:i.wordX,wordY:i.wordY,status:"0"==i.showState?1:2,isNode:i.isNode,topicDetailID:i.topicDetailID,topicID:i.topicID})}this.getLevelConfigCallback.succeed.call(this.getLevelConfigCallback.context,t)}else this.onGetLevelConfigFailed()},s.randomAnswerList=function(e){for(var t=0,s=e.length;t<s;t++){var i=Math.floor(r()*(s-1)),n=e[t];e[t]=e[i],e[i]=n}return e},s.onGetLevelConfigFailed=function(){null!=this.getLevelConfigCallback.failed&&this.getLevelConfigCallback.failed.call(this.getLevelConfigCallback.context,"获取关卡配置失败！")},s.showNextSelect=function(e){for(var t=null,s=0;s<this.lisEveryChess.length;s++){var i=this.lisEveryChess[s];if(i.getStatusIs1()){t=i;break}}null!=t&&t.setSelect(!0)},s.judgeIsSucceed=function(e){void 0===e&&(e=!0);for(var t=[],s=0;s<this.lisEveryChess.length;s++){var i=this.lisEveryChess[s];i.getStatusIs1()&&t.push(i)}return t.length<=0&&(e&&this.gameOver(!0),!0)},s.startChallenge=function(e){u.NetMgr.httpPost(o.startChallenge,{userId:u.UserMgr.userData.userId},this,(function(t){1==JSON.parse(t).data.state?e.succeed.call(e.context,""):u.HintMgr.showHintLabel("体力不足")}),(function(){}))},s.loadGameScene=function(e){var t,s=this;e&&(null===(t=this.idiomsGamePanel)||void 0===t||t.playBlackAnimtion());setTimeout((function(){s.lisEveryChess=[],s.lisEveryAnswer=[],s.curSelectEveryChess=null,s.isGameSucceed=!1,s.isGameOver=!1,s.idiomsGamePanel=null,s.curChallengeTime=s.challengeTime,s.lisProp=[],s.lisUseProp=[],s.curLevelStartTime=new Date,s.curLevelEndTime=new Date,s.lisCorrectAnswer=[],s.curLevelConfig.answerList=s.randomAnswerList(s.curLevelConfig.answerList),n.loadScene("idioms")}),e?750:0)},s.startGame=function(e,t){var s=this;this.getLevelConfig(e,{context:this,succeed:function(i){i.checkPoint=e,s.curLevelConfig=i,t.succeed.call(t.context,"")},failed:function(e){console.log(e),u.HintMgr.showHintLabel(e)}})},s.hasNextCheckPoint=function(){return!0},s.gameBack=function(){this.setGameOver(),this.saveHistory()},s.gameOver=function(e){this.setGameOver(e),this.saveHistory();var t=this.idiomsGamePanel.node.parent.getChildByName("IdiomsOverPanel");t.active=!0,t.getComponent(a).gameOver(),this.isGameSucceed?(u.AudioMgr.playFx("挑战成功"),u.GoodsMgr.openReward(1),setTimeout((function(){u.GoodsMgr.openReward(3)}),2e3)):u.AudioMgr.playFx("闯关失败")},s.setGameOver=function(e){var t;void 0===e&&(e=null),this.isGameOver=!0,this.isGameSucceed=null!==(t=e)&&void 0!==t?t:this.judgeIsSucceed(!1),this.curLevelEndTime=new Date(this.curLevelStartTime),this.curLevelEndTime.setSeconds(this.curLevelEndTime.getSeconds()+this.challengeTime-this.curChallengeTime)},s.useGoods=function(e){for(var t=[],s=0;s<this.lisEveryChess.length;s++){var i=this.lisEveryChess[s];(i.getStatusIs1()||i.getStatusIs3())&&t.push(i)}if(!(t.length<=0)){for(var r=null,n=0;n<this.lisProp.length;n++){var o=this.lisProp[n];("文曲星"==o.NAME&&0==e||"文曲令"==o.NAME&&1==e)&&(r=o)}if(!(null==r||r.num<=0)){if(0==e)this.autoSetChessValue(t[l(0,t.length)]);else if(1==e)for(var a=t[l(0,t.length)],c=this.getListIdiomByOneWordXYStr(a.getWordXYStr()),h=0;h<c[0].length;h++){var g=this.getEveryChessByWordXYStr(c[0][h].wordXYStr);((null==g?void 0:g.getStatusIs1())||(null==g?void 0:g.getStatusIs3()))&&this.autoSetChessValue(g)}r.num--,this.lisUseProp.push({propsId:r.id,name:r.NAME,useTime:u.GameUtils.dateFormat()}),this.idiomsGamePanel.refershProps()}}},s.autoSetChessValue=function(e){var t;null===(t=this.getEveryAnswerByValue(e.getValue()))||void 0===t||t.setStatus(0),e.autoSetValue()},s.getEveryAnswerByValue=function(e){for(var t=0;t<this.lisEveryAnswer.length;t++){var s=this.lisEveryAnswer[t];if(s.getStatusIs1()&&s.getValue()==e)return s}return null},s.getEveryChessByWordXYStr=function(e){for(var t=0;t<this.lisEveryChess.length;t++)if(this.lisEveryChess[t].getWordXYStr()==e)return this.lisEveryChess[t];return null},s.getListWord=function(){if(null!=this.curLevelConfig.lisWord&&null!=this.curLevelConfig.lisWord)return this.curLevelConfig.lisWord;this.curLevelConfig.lisWord=[];for(var e=0,t=0;t<this.curLevelConfig.answerCoordinates.length;t+=26){for(var s=this.curLevelConfig.answerCoordinates.substring(t,t+25).substring(1,24),i=0,r=[],n=0;n<s.length;n+=6){var l=s.substring(n,n+5);r.push({value:this.getListValue()[e][i],wordXYStr:l,wordX:parseInt(l[1]),wordY:parseInt(l[3])}),i++}this.curLevelConfig.lisWord.push(r),e++}return this.curLevelConfig.lisWord},s.getListValue=function(){return null!=this.curLevelConfig.lisValue&&null!=this.curLevelConfig.lisValue||(this.curLevelConfig.lisValue=this.curLevelConfig.answer.split(",")),this.curLevelConfig.lisValue},s.getListIdiomByOneWordXYStr=function(e){for(var t=[],s=this.getListWord(),i=0;i<s.length;i++)for(var r=0;r<s[i].length;r++)if(s[i][r].wordXYStr==e){t.push(s[i]);break}return t},s.getProps=function(e){this.getPropsCallback=e,u.NetMgr.httpPost(o.getProps,{userId:u.UserMgr.userData.userId},this,this.onGetPropsSucceed,(function(){}))},s.onGetPropsSucceed=function(e){var t=JSON.parse(e);this.lisProp=t.data,0==t.code?this.getPropsCallback.succeed.call(this.getPropsCallback.context,t.data):(u.HintMgr.showHintLabel(t.msg),this.getPropsCallback.failed.call(this.getPropsCallback.context,t.msg))},s.saveHistory=function(){var e;u.NetMgr.httpPost(o.saveIdiomHistory,{idiomHistory:{userId:u.UserMgr.userData.userId,classCode:u.UserMgr.userData.classCode,deptCode:u.UserMgr.userData.deptCode,topicId:this.curLevelConfig.topicID,topiclAnswerNum:this.curLevelConfig.answer.split(",").length,correctAnswerNum:this.lisCorrectAnswer.length,startTime:u.GameUtils.dateFormat(this.curLevelStartTime),endTime:u.GameUtils.dateFormat(this.curLevelEndTime),timeLong:this.challengeTime-this.curChallengeTime,checkpoint:this.curLevelConfig.checkPoint,status:this.isGameSucceed?1:0},idiomHistoryDetail:{content:this.curLevelConfig.content,answer:this.curLevelConfig.answer,paraphrase:null!==(e=this.curLevelConfig.paraphrase)&&void 0!==e?e:"",answerCoordinates:this.curLevelConfig.answerCoordinates,confuse:this.curLevelConfig.confuse,userAnswer:this.lisCorrectAnswer.join(",")},propsList:this.lisUseProp},this,(function(){}),(function(){}))},s.saveCorrectAnswer=function(e){for(var t=this.curLevelConfig.answerCoordinates,s=[],i=0;i<t.length;i+=26)s.push(t.substring(i,i+25));for(var r=0;r<s.length;r++){var n=s[r];if(n.indexOf(e.getWordXYStr())>=0){for(var l=n.substring(1,24),o=[],a=0;a<l.length;a+=6)o.push(l.substring(a,a+5));for(var u=0,c="",h=0;h<o.length;h++)for(var g=0;g<this.lisEveryChess.length;g++){var d=this.lisEveryChess[g];o[h]==d.getWordXYStr()&&(d.getStatusIs2()||d.getStatusIs4())&&(u++,c+=d.getValue())}u==o.length&&(this.lisCorrectAnswer.push(c),console.log("组成一个成语："+c+" 现在组成成语个数:"+this.lisCorrectAnswer.length))}}},t(e,[{key:"curLevelConfig",get:function(){if(null!=this._curLevelConfig)return this._curLevelConfig;this.startGame(1,{context:this,succeed:function(){u.IdiomsGameMgr.loadGameScene(!1)}})},set:function(e){this._curLevelConfig=e}},{key:"idiomsGamePanel",get:function(){return null==this._idiomsGamePanel&&console.log("idiomsGamePanel为空了"),this._idiomsGamePanel},set:function(e){console.log(null==e?"idiomsGamePanel设为空":"idiomsGamePanel到位！"),this._idiomsGamePanel=e}}]),e}());s._RF.pop()}}}));

System.register("chunks:///_virtual/WrongHistoryDetailPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NetMgr.ts","./Global.ts"],(function(t){"use strict";var e,n,i,o,r,s,a,l,h,c,g;return{setters:[function(t){e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy,o=t._decorator,r=t.Button,s=t.instantiate,a=t.Label,l=t.UITransform,h=t.Component},function(t){c=t.ApiType},function(t){g=t.Global}],execute:function(){var u;i._RF.push({},"d34beWD5u9DmqBmVgtxrDJV","WrongHistoryDetailPanel",void 0);var d=o.ccclass;o.property,t("WrongHistoryDetailPanel",d("WrongHistoryDetailPanel")(u=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).historyId=void 0,e.scrollView=null,e.content=null,e.prefab=null,e}e(i,t);var o=i.prototype;return o.start=function(){var t,e;null===(t=this.node.getChildByName("ReturnBtn"))||void 0===t||null===(e=t.getComponent(r))||void 0===e||e.node.on(r.EventType.CLICK,this.onCloseBtnClick,this),this.scrollView=this.node.getChildByPath("ScrollView"),this.content=this.scrollView.getChildByPath("view/content"),this.prefab=this.content.getChildByName("item"),this.prefab.active=!1},o.refershPanel=function(t){if(console.log("点击了"+t),this.historyId!=t){this.historyId=t;var e={id:this.historyId,current:0,size:99};g.NetMgr.httpPost(c.getMistakesList,e,this,this.onGetMistakesListSucceed,(function(){}))}},o.onGetMistakesListSucceed=function(t){for(var e,i=n(this.content.children);!(e=i()).done;){var o=e.value;o!=this.prefab&&o.destroy()}for(var r=JSON.parse(t).data,h=0;h<r.length;h++){var c=s(this.prefab);null==c||c.setParent(this.content),c.active=!0,c.name=r[h].id,c.getChildByPath("Content/Title").getComponent(a).string=r[h].topic,c.getChildByPath("Content/A").getComponent(a).string="A  "+r[h].answer1,c.getChildByPath("Content/B").getComponent(a).string="B  "+r[h].answer2,c.getChildByPath("Content/C").active=null!=r[h].answer3,c.getChildByPath("Content/C").getComponent(a).string="C  "+r[h].answer3,c.getChildByPath("Content/D").active=null!=r[h].answer4,c.getChildByPath("Content/D").getComponent(a).string="D  "+r[h].answer4,c.getChildByPath("Content/Your").getComponent(a).string="你的答案 :"+r[h].studentAnswer,c.getChildByPath("Content/Right").getComponent(a).string="正确答案 :"+r[h].correctAnswer,c.getChildByPath("Other/WrongImg").active=0==r[h].status,c.getChildByPath("Other/RightImg").active=1==r[h].status}this.content.getComponent(l).height=r.length*this.prefab.getComponent(l).height},o.onCloseBtnClick=function(){this.node.active=!1,this.node.parent.getChildByName("HistoryPanel").active=!0},o.getFakeData=function(){return{mistakesList:[{id:"abc123",topic:"1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?1+2=?",answer1:"0",answer2:"1",answer3:"2",answer4:"3",correctAnswer:"1",studentAnswer:"2",status:"0"},{id:"efg345",topic:"2+2=?",answer1:"3",answer2:"4",correctAnswer:"1",studentAnswer:"4",status:"0"}]}},i}(h))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/IdiomsStartPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NetMgr.ts","./Global.ts"],(function(t){"use strict";var e,i,n,a,o,l,s,d,h,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,a=t.Button,o=t.Label,l=t.instantiate,s=t.ScrollView,d=t.Component},function(t){h=t.ApiType},function(t){r=t.Global}],execute:function(){var m;i._RF.push({},"d3929NbRg5HB5+eTNyYIv0h","IdiomsStartPanel",void 0);var c=n.ccclass;n.property,t("IdiomsStartPanel",c("IdiomsStartPanel")(m=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).addPanel=null,e.idiomsListPanel=null,e.idiomsDetailPanel=null,e.mData=null,e.lisIdiomsDetailData=null,e}e(i,t);var n=i.prototype;return n.start=function(){var t,e,i,n;this.node.getChildByPath("ReturnBtn/Btn").on(a.EventType.CLICK,this.onCloseBtnClick,this),this.node.getChildByPath("Main/AddBtn").on(a.EventType.CLICK,this.onAddBtnClick,this),this.node.getChildByPath("Bottom/IdiomsListBtn").on(a.EventType.CLICK,this.onIdiomsListBtnClick,this),this.node.getChildByPath("Main/StartGameBtn").on(a.EventType.CLICK,this.onStartGameBtnClick,this),this.addPanel=this.node.getChildByName("AddPanel"),(null===(t=this.addPanel)||void 0===t?void 0:t.getChildByName("OKBtn")).getComponent(a).node.on(a.EventType.CLICK,this.onAddOKBtnClick,this),(null===(e=this.addPanel)||void 0===e?void 0:e.getChildByName("CancelBtn")).getComponent(a).node.on(a.EventType.CLICK,this.onAddCancelBtnClick,this),this.idiomsListPanel=this.node.getChildByName("IdiomsListPanel"),(null===(i=this.idiomsListPanel)||void 0===i?void 0:i.getChildByName("CloseBtn")).getComponent(a).node.on(a.EventType.CLICK,this.onIdiomsListCloseBtnClick,this),this.idiomsDetailPanel=this.node.getChildByName("IdiomsDetailPanel"),(null===(n=this.idiomsDetailPanel)||void 0===n?void 0:n.getChildByName("CloseBtn")).getComponent(a).node.on(a.EventType.CLICK,this.onIdiomsDetailCloseBtnClick,this),this.refershStaminaText();var o={userId:r.UserMgr.userData.userId,deptCode:r.UserMgr.userData.deptCode};r.NetMgr.httpPost(h.getIdiomHomePageData,o,this,this.onGetIdiomHomePageDataSucceed,(function(){})),r.IdiomsGameMgr.getIdiomRule()},n.onGetIdiomHomePageDataSucceed=function(t){this.mData=JSON.parse(t).data,this.node.getChildByPath("Main/Label").getComponent(o).string="当前"+this.mData.checkpoint+"关",this.node.getChildByPath("Main/Label-001").getComponent(o).string="全校排名："+this.mData.schoolRank,this.node.getChildByPath("Bottom/Label-004").getComponent(o).string=this.mData.todayResult.challengeNum+"次",this.node.getChildByPath("Bottom/Label-005").getComponent(o).string=(0==this.mData.todayResult.challengeNum?"0":this.mData.todayResult.passNum)+"次",this.node.getChildByPath("Bottom/Label-006").getComponent(o).string=(0==this.mData.todayResult.challengeNum?"0":this.mData.todayResult.idiomNum)+"个";var e=this.node.getChildByPath("Rank/ScrollView/view/content"),i=e.getChildByName("item");i.active=!1;for(var n=0;n<(this.mData.honorTree.length>=20?20:this.mData.honorTree.length);n++){var a,s=l(i);null==s||s.setParent(e),s.active=!0,s.getChildByName("Label").getComponent(o).string=this.mData.honorTree[n].checkpoint+"关",s.getChildByName("Label-001").getComponent(o).string=this.mData.honorTree[n].petName,r.NetMgr.loadImgByUrl(s.getChildByPath("Node/Sprite"),r.NetMgr.baseurl+"/"+this.mData.honorTree[n].headPortrait),null===(a=e.getChildByName("Node"))||void 0===a||a.setSiblingIndex(e.children.length-1)}},n.refershStaminaText=function(){this.node.getChildByPath("Main/Label-002").getComponent(o).string=r.UserMgr.userData.stamina+"/"+r.UserMgr.userData.upperLimitOfStamina},n.onCloseBtnClick=function(){r.jumpToScene("guozijian")},n.onAddBtnClick=function(){this.addPanel.active=!0},n.onAddOKBtnClick=function(){var t=this;this.addPanel.active=!1,r.GoodsMgr.userPowerMedicament({context:this,succeed:function(){t.refershStaminaText()},failed:function(){}})},n.onAddCancelBtnClick=function(){this.addPanel.active=!1},n.onIdiomsListBtnClick=function(){r.NetMgr.httpPost(h.getIdiomExplain,{userId:r.UserMgr.userData.userId,current:0,size:10},this,this.onGetIdiomExplainSucceed,(function(){}))},n.onGetIdiomExplainSucceed=function(t){var e=JSON.parse(t);if(this.idiomsListPanel.active=!0,0==e.code&&null==e.data)this.idiomsListPanel.getChildByName("Empty").active=!0,this.idiomsListPanel.getChildByName("ScrollView").active=!1;else{this.lisIdiomsDetailData=e.data,this.idiomsListPanel.getChildByName("Empty").active=!1,this.idiomsListPanel.getChildByName("ScrollView").active=!0;var i=this.idiomsListPanel.getChildByPath("ScrollView/view/content"),n=i.getChildByName("item");n.active=!1;for(var s=0;s<e.data.length;s++){var d,h=l(n);null==h||h.setParent(i),h.active=!0,h.name=e.data[s].idiomID,h.getChildByName("Label-001").getComponent(o).string=e.data[s].content,h.getChildByPath("IdiomsDetailBtn/Node").on(a.EventType.CLICK,this.onIdiomsDetailBtnClick,this),null===(d=i.getChildByName("Node"))||void 0===d||d.setSiblingIndex(i.children.length-1)}}},n.onIdiomsListCloseBtnClick=function(){this.idiomsListPanel.active=!1},n.onIdiomsDetailBtnClick=function(t){this.idiomsDetailPanel.active=!0,console.log(t.target.parent.name);var e=null;if(null!=this.lisIdiomsDetailData){for(var i=0;i<this.lisIdiomsDetailData.length;i++){var n=this.lisIdiomsDetailData[i];if(n.idiomID==t.target.parent.name){e=n;break}}null!=e&&(this.idiomsDetailPanel.getChildByPath("ScrollView/view/content/Label").getComponent(o).string=e.content,this.idiomsDetailPanel.getChildByPath("ScrollView/view/content/Label-001").getComponent(o).string="拼音："+e.spell,this.idiomsDetailPanel.getChildByPath("ScrollView/view/content/Label-002").getComponent(o).string="出处：",this.idiomsDetailPanel.getChildByPath("ScrollView/view/content/Label-003").getComponent(o).string="释义："+e.paraphrase,this.idiomsDetailPanel.getChildByPath("ScrollView").getComponent(s).scrollToTop())}},n.onIdiomsDetailCloseBtnClick=function(){this.idiomsDetailPanel.active=!1},n.onStartGameBtnClick=function(){var t=this;null!=this.mData?r.IdiomsGameMgr.startChallenge({context:this,succeed:function(){r.UserMgr.userData.stamina=r.UserMgr.userData.stamina-1<0?0:r.UserMgr.userData.stamina-1,t.refershStaminaText(),r.IdiomsGameMgr.startGame(t.mData.checkpoint,{context:t,succeed:function(){r.IdiomsGameMgr.loadGameScene(!1)}})}}):r.HintMgr.showHintLabel("数据加载失败...")},i}(d))||m);i._RF.pop()}}}));

System.register("chunks:///_virtual/HistoryPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NetMgr.ts","./Global.ts","./IdiomsHistoryDetailPanel.ts","./WrongHistoryDetailPanel.ts"],(function(t){"use strict";var e,n,i,s,a,o,l,r,h,g,d,c;return{setters:[function(t){e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy,s=t._decorator,a=t.Button,o=t.Label,l=t.instantiate,r=t.Component},function(t){h=t.ApiType},function(t){g=t.Global},function(t){d=t.IdiomsHistoryDetailPanel},function(t){c=t.WrongHistoryDetailPanel}],execute:function(){var m;i._RF.push({},"e02f2fjJ1BH/J08MxQQWIr4","HistoryPanel",void 0);var u=s.ccclass;s.property,t("HistoryPanel",u("HistoryPanel")(m=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).idiomsBtn=null,e.shotBtn=null,e.scrollView1=null,e.scrollView2=null,e.curId=-1,e.userRankData0=null,e.userRankData1=null,e.historyListData0=null,e.historyListData1=null,e.content1=null,e.prefab1=null,e.lisItem1=[],e.content2=null,e.prefab2=null,e.lisItem2=[],e}e(i,t);var s=i.prototype;return s.start=function(){var t,e,n,i,s;null===(t=this.node.getChildByName("ReturnBtn"))||void 0===t||null===(e=t.getComponent(a))||void 0===e||e.node.on(a.EventType.CLICK,this.onCloseBtnClick,this),this.idiomsBtn=this.node.getChildByName("IdiomsBtn").getComponent(a),this.shotBtn=this.node.getChildByName("Shotbtn").getComponent(a),this.scrollView1=this.node.getChildByPath("History/ScrollView1"),this.scrollView2=this.node.getChildByPath("History/ScrollView2"),null===(n=this.idiomsBtn)||void 0===n||n.node.on(a.EventType.CLICK,this.onIdiomsOrShotBtnClick,this),null===(i=this.shotBtn)||void 0===i||null===(s=i.getComponent(a))||void 0===s||s.node.on(a.EventType.CLICK,this.onIdiomsOrShotBtnClick,this),this.content1=this.scrollView1.getChildByPath("view/content"),this.prefab1=this.content1.getChildByName("item"),this.prefab1.active=!1,this.content2=this.scrollView2.getChildByPath("view/content"),this.prefab2=this.content2.getChildByName("item"),this.prefab2.active=!1,this.onIdiomsOrShotBtnClick(this.idiomsBtn),this.refershUserRank(0)},s.getUserRank=function(t){var e={userId:g.UserMgr.userData.userId,deptCode:g.UserMgr.userData.deptCode,type:t};g.NetMgr.httpPost(h.getUserRank,e,this,this.onGetUserRankSucceed,(function(){}))},s.getHistoryList=function(t){var e={userId:g.UserMgr.userData.userId,type:t,deptCode:g.UserMgr.userData.deptCode,current:0,size:20};g.NetMgr.httpPost(h.getHistoryList,e,this,this.onGetHistoryListSucceed,(function(){}))},s.onGetUserRankSucceed=function(t){var e=null;0==this.curId?(e=JSON.parse(t).data,this.userRankData0=e):(e=JSON.parse(t).data,this.userRankData1=e),this.refershUserRankPanel(e)},s.onGetHistoryListSucceed=function(t){var e=null;0==this.curId?(e=JSON.parse(t).data,this.historyListData0=e):(e=JSON.parse(t).data,this.historyListData1=e),this.refershHistoryListPanel(e)},s.refershUserRank=function(t){this.curId!=t&&(this.curId=t,0==t?(this.idiomsBtn.node.getChildByName("Select").active=!0,this.shotBtn.node.getChildByName("Select").active=!1,this.scrollView1.active=!0,this.scrollView2.active=!1,null==this.userRankData0?this.getUserRank(0):this.refershUserRankPanel(this.userRankData0),null==this.historyListData0?this.getHistoryList(0):this.refershHistoryListPanel(this.historyListData0)):1==t&&(this.idiomsBtn.node.getChildByName("Select").active=!1,this.shotBtn.node.getChildByName("Select").active=!0,this.scrollView1.active=!1,this.scrollView2.active=!0,null==this.userRankData1?this.getUserRank(1):this.refershUserRankPanel(this.userRankData1),null==this.historyListData1?this.getHistoryList(1):this.refershHistoryListPanel(this.historyListData1)))},s.refershUserRankPanel=function(t){null!=t&&(this.node.getChildByPath("item/Label-001").getComponent(o).string=t.challengeNum,this.node.getChildByPath("item/Label-003").getComponent(o).string=t.classChallengeNumRank,this.node.getChildByPath("item/Label-005").getComponent(o).string=t.shoolChallengeNumRank,this.node.getChildByPath("item/Label-007").getComponent(o).string=t.totalChallengeNumRank,this.node.getChildByPath("item-001/Label-001").getComponent(o).string=t.passNum,this.node.getChildByPath("item-001/Label-003").getComponent(o).string=t.classPassNumRank,this.node.getChildByPath("item-001/Label-005").getComponent(o).string=t.shoolPassNumRank,this.node.getChildByPath("item-001/Label-007").getComponent(o).string=t.totalPassNumRank,this.node.getChildByPath("item-002/Label-001").getComponent(o).string=t.passRate,this.node.getChildByPath("item-002/Label-003").getComponent(o).string=t.classPassRateRank,this.node.getChildByPath("item-002/Label-005").getComponent(o).string=t.shoolPassRateRank,this.node.getChildByPath("item-002/Label-007").getComponent(o).string=t.totalPassRateRank,this.node.getChildByPath("item-003/Label-001").getComponent(o).string=t.avgAccuracy,this.node.getChildByPath("item-003/Label-003").getComponent(o).string=t.classAvgAccuracyRank,this.node.getChildByPath("item-003/Label-005").getComponent(o).string=t.shoolAvgAccuracyRank,this.node.getChildByPath("item-003/Label-007").getComponent(o).string=t.totalAvgAccuracyRank)},s.refershHistoryListPanel=function(t){if(0==this.curId){for(var e=0;e<this.content1.children.length;e++){var i=this.content1.children[e];i!=this.prefab1&&(this.lisItem1.push(i),i.active=!1)}for(var s=t,a=0;a<s.length;a++){var l=this.getOneItem1();l.active=!0,l.name=s[a].id,l.getChildByPath("Label-001/Label").getComponent(o).string="第"+s[a].checkpoint+"关",l.getChildByPath("Label-002/Label").getComponent(o).string=s[a].startTime,l.getChildByPath("Label-003/Label").getComponent(o).string="0"==s[a].status?"挑战失败":"挑战成功",l.getChildByPath("Label-004/Label").getComponent(o).string=s[a].correctAnswerNum,l.getChildByPath("Label-005/Label").getComponent(o).string=s[a].timeLong,l.setSiblingIndex(a+1)}}else if(1==this.curId){for(var r=0;r<this.content2.children.length;r++){var h=this.content2.children[r];h!=this.prefab2&&(this.lisItem2.push(h),h.active=!1)}for(var g=t,d=0;d<g.length;d++){var c=this.getOneItem2();c.active=!0,c.name=g[d].id,c.getChildByPath("Label-001/Label").getComponent(o).string=g[d].bookName,c.getChildByPath("Label-002/Label").getComponent(o).string=g[d].startTime,c.getChildByPath("Label-003/Label").getComponent(o).string="0"==g[d].STATUS?"挑战失败":"挑战成功",c.getChildByPath("Label-004/Label").getComponent(o).string=g[d].passRate,c.getChildByPath("Label-005/Label").getComponent(o).string=g[d].timeLong,c.setSiblingIndex(d+1);for(var m,u=c.getChildByName("SSS"),C=n(u.children);!(m=C()).done;){var p=m.value;p.active=p.name==g[d].score}}}},s.getOneItem1=function(){if(this.lisItem1.length<=0){var t=l(this.prefab1);return t.getChildByPath("Label-006/OpenDetailBtn").getComponent(a).node.on(a.EventType.CLICK,this.onOpenIdiomsHistoryDetailBtnClick,this),t.setParent(this.content1),t}return this.lisItem1.pop()},s.getOneItem2=function(){if(this.lisItem2.length<=0){var t=l(this.prefab2);return t.getChildByPath("Label-006/OpenWrongBtn").getComponent(a).node.on(a.EventType.CLICK,this.onOpenWrongBtnClick,this),t.setParent(this.content2),t}return this.lisItem2.pop()},s.onCloseBtnClick=function(){g.jumpToScene("qintianjian")},s.onIdiomsOrShotBtnClick=function(t){"IdiomsBtn"==t.node.name?this.refershUserRank(0):"Shotbtn"==t.node.name&&this.refershUserRank(1)},s.onOpenWrongBtnClick=function(t){var e;this.node.active=!1,this.node.parent.getChildByName("WrongHistoryDetailPanel").active=!0,this.node.parent.getChildByName("WrongHistoryDetailPanel").getComponent(c).refershPanel(null===(e=(null==t?void 0:t.node).parent.parent)||void 0===e?void 0:e.name)},s.onOpenIdiomsHistoryDetailBtnClick=function(t){this.node.active=!1,this.node.parent.getChildByName("IdiomsHistoryDetailPanel").active=!0,this.node.parent.getChildByName("IdiomsHistoryDetailPanel").getComponent(d).refershPanel(t.node.parent.parent.name)},i}(r))||m);i._RF.pop()}}}));

System.register("chunks:///_virtual/Global.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./NetMgr.ts","./GoodsMgr.ts","./HintMgr.ts","./IdiomsGameMgr.ts","./ShotGameMgr.ts","./CardMgr.ts","./MedalMgr.ts","./GameUtils.ts","./UserMgr.ts"],(function(n){"use strict";var e,r,t,o,u,i,g,M,a,l,s,c,d,_;return{setters:[function(n){e=n.createClass},function(n){r=n.cclegacy,t=n._decorator,o=n.director},function(n){u=n.AudioMgr},function(n){i=n.NetMgr},function(n){g=n.GoodsMgr},function(n){M=n.HintMgr},function(n){a=n.IdiomsGameMgr},function(n){l=n.ShotGameMgr},function(n){s=n.CardMgr},function(n){c=n.MedalMgr},function(n){d=n.GameUtils},function(n){_=n.UserMgr}],execute:function(){n("Module",void 0),r._RF.push({},"e8563KH5gtJa6vndQQ4fgvP","Global",void 0);var f;t.ccclass,t.property,n("Global",function(){function n(){}return n.jumpToGuozijian=function(e){n.AudioMgr.playMusic("主界面背景音乐"),0==e?o.loadScene("idiomsStart"):1==e&&o.loadScene("shotStart")},n.jumpToScene=function(n){o.loadScene(n)},e(n,null,[{key:"GameUtils",get:function(){return null==n._GameUtils&&(n._GameUtils=new d),n._GameUtils}},{key:"NetMgr",get:function(){return null==n._NetMgr&&(n._NetMgr=new i),n._NetMgr}},{key:"UserMgr",get:function(){return null==n._UserMgr&&(n._UserMgr=new _),n._UserMgr}},{key:"IdiomsGameMgr",get:function(){return null==n._IdiomsGameMgr&&(n._IdiomsGameMgr=new a),n._IdiomsGameMgr}},{key:"ShotGameMgr",get:function(){return null==n._ShotGameMgr&&(n._ShotGameMgr=new l),n._ShotGameMgr}},{key:"GoodsMgr",get:function(){return null==n._GoodsMgr&&(n._GoodsMgr=new g),n._GoodsMgr}},{key:"HintMgr",get:function(){return null==n._HintMgr&&(n._HintMgr=new M),n._HintMgr}},{key:"CardMgr",get:function(){return null==n._CardMgr&&(n._CardMgr=new s),n._CardMgr}},{key:"AudioMgr",get:function(){return null==n._AudioMgr&&(n._AudioMgr=new u),n._AudioMgr}},{key:"MedalMgr",get:function(){return null==n._MedalMgr&&(n._MedalMgr=new c),n._MedalMgr}}]),n}());!function(n){n.xueshifu="xueshifu",n.guozijian="guozijian",n.qintianjian="qintianjian",n.taixueyuan="taixueyuan"}(f||(f=n("Module",{}))),r._RF.pop()}}}));

System.register("chunks:///_virtual/ResizeHeightMono.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,o,n,r,a,l,u,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Node,u=e.UITransform,s=e.Component}],execute:function(){var c,p,h,f,d,m,g;r._RF.push({},"ed6f6SK+NtIJbxhJDZ0C3JX","ResizeHeightMono",void 0);var b=a.ccclass,y=a.property;e("ResizeHeightMono",(c=b("ResizeHeightMono"),p=y(l),c((d=t((f=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"followNode",d,n(t)),o(t,"addValue",m,n(t)),o(t,"minValue",g,n(t)),t.timer=0,t}return i(t,e),t.prototype.update=function(e){if(!(this.timer>1)&&(this.timer+=e,this.timer<=.5)){var t=this.followNode.getComponent(u).height+this.addValue;this.node.getComponent(u).height=t>this.minValue?t:this.minValue}},t}(s)).prototype,"followNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(f.prototype,"addValue",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=t(f.prototype,"minValue",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=f))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameUtils.ts",["cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy,n=t._decorator}],execute:function(){e._RF.push({},"f1924JmLyZNw5K3GdlwcNQq","GameUtils",void 0);n.ccclass,n.property,t("GameUtils",function(){function t(){}var e=t.prototype;return e.dateFormat=function(t,e){null==t&&null==e?(t=new Date,e="yyyy-MM-dd HH:mm:ss"):"string"==typeof t?(e=t,t=new Date):void 0===e&&(e="yyyy-MM-dd HH:mm:ss");var n={y:t.getFullYear()+"",M:t.getMonth()+1+"",d:t.getDate()+"",H:t.getHours(),m:t.getMinutes()+"",s:t.getSeconds()+"",q:Math.floor((t.getMonth()+3)/3)+"",f:t.getMilliseconds()+""};n.H>12?n.h=n.H-12+"":n.h=n.H+"",n.H+="";for(var r="yMdHhmsqf",s="",l="",i=0,c=0;i<r.length;i++)if(!((c=e.indexOf(r[i]))<0)){for(s="";c<e.length&&e[c]==r[i];c++)s+=r[i];if(s.length>0){if(s.length==n[r[i]].length)l=n[r[i]];else if(s.length>n[r[i]].length)l="f"==r[i]?n[r[i]]+this.charString("0",s.length-n[r[i]].length):this.charString("0",s.length-n[r[i]].length)+n[r[i]];else switch(r[i]){case"y":l=n[r[i]].substr(n[r[i]].length-s.length);break;case"f":l=n[r[i]].substr(0,s.length);break;default:l=n[r[i]]}e=e.replace(s,l)}}return e},e.charString=function(t,e){for(var n="";e--;)n+=t;return n},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/NetMgr.ts",["cc"],(function(e){"use strict";var t,o,s,i,r,a;return{setters:[function(e){t=e.cclegacy,o=e._decorator,s=e.assetManager,i=e.SpriteFrame,r=e.Texture2D,a=e.Sprite}],execute:function(){e("ApiType",void 0),t._RF.push({},"fa7e3QnDTJJt6kW8AmC5Roe","NetMgr",void 0);var n;o.ccclass,o.property,e("NetMgr",function(){function e(){this.baseurl="http://test.fjwoke.com/testMachine"}var t=e.prototype;return t.httpPost=function(e,t,o,s,i){var r=new XMLHttpRequest;r.open("POST",this.baseurl+"/"+e,!0),r.setRequestHeader("Content-type","application/json; charset=utf-8"),r.timeout=6e4;var a=JSON.stringify(t);console.log(e+" 发送请求："+a),r.send(a),r.onreadystatechange=function(){if(4==r.readyState)if(200==r.status){var t=r.responseText;console.log(e+" 获取请求成功："+t),s.call(o,t)}else console.log(e+" 获取请求失败："+r.statusText),i.call(o,r)}},t.loadImgByUrl=function(e,t){s.loadRemote(t,(function(t,o){t&&console.log(t);var s=new i,n=new r;n.image=o,s.texture=n,e.getComponent(a).spriteFrame=s}))},e}());!function(e){e.login="login",e.loginout="logout",e.getLevel="dictionaries/getLevel",e.updateUserInfoExtent="user/updateUserInfoExtent",e.totalRank="leaderboard/totalRank",e.getUserRank="leaderboard/getUserRank",e.getHistoryList="history/getHistoryList",e.getMistakesList="history/getMistakesList",e.getIdiomHistory="history/getIdiomHistory",e.getBookOrigin="dictionaries/getBookOrigin",e.getBookGrade="dictionaries/getBookGrade",e.getBookList="test/getBookList",e.getBookListByUserId="test/getBookListByUserId",e.getChallengeNumByUserId="test/getChallengeNumByUserId",e.getShootGameRule="rule/getShootGameRule",e.getShootAnswerRule="rule/getShootAnswerRule",e.saveShootGameHistory="test/saveShootGameHistory",e.getTopicById="test/getTopicById",e.saveShootTestHistory="test/saveShootTestHistory",e.saveShootTestHistoryDetails="test/saveShootTestHistoryDetails",e.getMedal="dictionaries/getMedal",e.getUserMedal="medal/getUserMedal",e.getCondition="medal/getCondition",e.getBulletin="bulletin/getBulletin",e.setCardsShow="card/setCardsShow",e.cardsShow="card/cardShow",e.cardFragmentShow="card/cardFragmentShow",e.synthesis="card/synthesis",e.getGameList="dictionaries/getGameList",e.drawList="dictionaries/drawList",e.luckyDraw="draw/luckyDraw",e.openReward="draw/openReward",e.userPowerMedicament="props/userPowerMedicament",e.getIdiomHomePageData="idiom/getIdiomHomePageData",e.getIdiomExplain="idiom/getIdiomExplain",e.getIdiomRule="rule/getIdiomRule",e.getTopic="idiom/getTopic",e.saveIdiomHistory="idiom/saveIdiomHistory",e.getProps="idiom/getProps",e.startChallenge="idiom/startChallenge",e.getWarehousePropsInfo="props/getWarehousePropsInfo",e.propsIntoBattle="props/propsIntoBattle"}(n||(n=e("ApiType",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AudioMgr.ts","./NetMgr.ts","./GoodsMgr.ts","./HintMgr.ts","./IdiomsOverPanel.ts","./IdiomsGameMgr.ts","./ShotOverPanel.ts","./ShotGameMgr.ts","./CardMgr.ts","./MedalMgr.ts","./GameUtils.ts","./UserMgr.ts","./Global.ts","./ActivityPanel.ts","./EveryAnswer.ts","./MainPanel.ts","./GuozijianPanel.ts","./ChildScrollView.ts","./ParentScrollView.ts","./TaixueyuanPanel.ts","./TestNet.ts","./EveryChess.ts","./IdiomsHistoryDetailPanel.ts","./LuckDrawPanel.ts","./XueshifuPanel.ts","./CardComposePanel.ts","./CardPanel.ts","./QintianjianPanel.ts","./StartPanel.ts","./EveryDuck.ts","./ShotGamePanel.ts","./ShotAnswerPanel.ts","./IdiomsGamePanel.ts","./LoginPanel.ts","./ShotStartPanel.ts","./ScrollViewCtrl.ts","./MedalPanel.ts","./WrongHistoryDetailPanel.ts","./IdiomsStartPanel.ts","./HistoryPanel.ts","./ResizeHeightMono.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});